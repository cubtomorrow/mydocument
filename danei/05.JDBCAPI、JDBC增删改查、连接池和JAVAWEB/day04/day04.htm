<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:m="http://schemas.microsoft.com/office/2004/12/omml"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=gb2312">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 14">
<meta name=Originator content="Microsoft Word 14">
<link rel=File-List href="day04.files/filelist.xml">
<link rel=Edit-Time-Data href="day04.files/editdata.mso">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>benwang</o:Author>
  <o:LastAuthor>tarena</o:LastAuthor>
  <o:Revision>2</o:Revision>
  <o:TotalTime>7568</o:TotalTime>
  <o:Created>2018-07-11T09:23:00Z</o:Created>
  <o:LastSaved>2018-07-11T09:23:00Z</o:LastSaved>
  <o:Pages>19</o:Pages>
  <o:Words>3270</o:Words>
  <o:Characters>18640</o:Characters>
  <o:Lines>155</o:Lines>
  <o:Paragraphs>43</o:Paragraphs>
  <o:CharactersWithSpaces>21867</o:CharactersWithSpaces>
  <o:Version>14.00</o:Version>
 </o:DocumentProperties>
 <o:OfficeDocumentSettings>
  <o:AllowPNG/>
 </o:OfficeDocumentSettings>
</xml><![endif]-->
<link rel=dataStoreItem href="day04.files/item0001.xml"
target="day04.files/props002.xml">
<link rel=themeData href="day04.files/themedata.thmx">
<link rel=colorSchemeMapping href="day04.files/colorschememapping.xml">
<!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:SpellingState>Clean</w:SpellingState>
  <w:GrammarState>Clean</w:GrammarState>
  <w:TrackMoves>false</w:TrackMoves>
  <w:TrackFormatting/>
  <w:PunctuationKerning/>
  <w:DrawingGridVerticalSpacing>7.8 磅</w:DrawingGridVerticalSpacing>
  <w:DisplayHorizontalDrawingGridEvery>0</w:DisplayHorizontalDrawingGridEvery>
  <w:DisplayVerticalDrawingGridEvery>2</w:DisplayVerticalDrawingGridEvery>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:DoNotPromoteQF/>
  <w:LidThemeOther>EN-US</w:LidThemeOther>
  <w:LidThemeAsian>ZH-CN</w:LidThemeAsian>
  <w:LidThemeComplexScript>X-NONE</w:LidThemeComplexScript>
  <w:Compatibility>
   <w:SpaceForUL/>
   <w:BalanceSingleByteDoubleByteWidth/>
   <w:DoNotLeaveBackslashAlone/>
   <w:ULTrailSpace/>
   <w:DoNotExpandShiftReturn/>
   <w:AdjustLineHeightInTable/>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:WrapTextWithPunct/>
   <w:UseAsianBreakRules/>
   <w:DontGrowAutofit/>
   <w:SplitPgBreakAndParaMark/>
   <w:EnableOpenTypeKerning/>
   <w:DontFlipMirrorIndents/>
   <w:OverrideTableStyleHps/>
   <w:UseFELayout/>
  </w:Compatibility>
  <m:mathPr>
   <m:mathFont m:val="Cambria Math"/>
   <m:brkBin m:val="before"/>
   <m:brkBinSub m:val="&#45;-"/>
   <m:smallFrac m:val="off"/>
   <m:dispDef/>
   <m:lMargin m:val="0"/>
   <m:rMargin m:val="0"/>
   <m:defJc m:val="centerGroup"/>
   <m:wrapIndent m:val="1440"/>
   <m:intLim m:val="subSup"/>
   <m:naryLim m:val="undOvr"/>
  </m:mathPr></w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" DefUnhideWhenUsed="true"
  DefSemiHidden="true" DefQFormat="false" DefPriority="99"
  LatentStyleCount="267">
  <w:LsdException Locked="false" Priority="0" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Normal"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="heading 1"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 2"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 3"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 4"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 5"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 6"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 7"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 8"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 9"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 1"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 2"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 3"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 4"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 5"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 6"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 7"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 8"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 9"/>
  <w:LsdException Locked="false" Priority="35" QFormat="true" Name="caption"/>
  <w:LsdException Locked="false" Priority="10" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Title"/>
  <w:LsdException Locked="false" Priority="1" Name="Default Paragraph Font"/>
  <w:LsdException Locked="false" Priority="11" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Subtitle"/>
  <w:LsdException Locked="false" Priority="22" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Strong"/>
  <w:LsdException Locked="false" Priority="20" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Emphasis"/>
  <w:LsdException Locked="false" Priority="39" SemiHidden="false"
   UnhideWhenUsed="false" Name="Table Grid"/>
  <w:LsdException Locked="false" UnhideWhenUsed="false" Name="Placeholder Text"/>
  <w:LsdException Locked="false" Priority="1" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="No Spacing"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 1"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 1"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 1"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 1"/>
  <w:LsdException Locked="false" UnhideWhenUsed="false" Name="Revision"/>
  <w:LsdException Locked="false" Priority="34" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="List Paragraph"/>
  <w:LsdException Locked="false" Priority="29" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Quote"/>
  <w:LsdException Locked="false" Priority="30" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Intense Quote"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 1"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 1"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 1"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 1"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 1"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 2"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 2"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 2"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 2"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 2"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 2"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 2"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 2"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 3"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 3"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 3"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 3"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 3"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 3"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 3"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 3"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 4"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 4"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 4"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 4"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 4"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 4"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 4"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 4"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 5"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 5"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 5"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 5"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 5"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 5"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 5"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 5"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 6"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 6"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 6"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 6"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 6"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 6"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 6"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 6"/>
  <w:LsdException Locked="false" Priority="19" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Subtle Emphasis"/>
  <w:LsdException Locked="false" Priority="21" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Intense Emphasis"/>
  <w:LsdException Locked="false" Priority="31" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Subtle Reference"/>
  <w:LsdException Locked="false" Priority="32" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Intense Reference"/>
  <w:LsdException Locked="false" Priority="33" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Book Title"/>
  <w:LsdException Locked="false" Priority="37" Name="Bibliography"/>
  <w:LsdException Locked="false" Priority="39" QFormat="true" Name="TOC Heading"/>
 </w:LatentStyles>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;
	mso-font-charset:0;
	mso-generic-font-family:modern;
	mso-font-pitch:fixed;
	mso-font-signature:-536869121 64767 1 0 415 0;}
@font-face
	{font-family:微软雅黑;
	panose-1:2 11 5 3 2 2 4 2 2 4;
	mso-font-charset:134;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-2147483001 718224464 22 0 262175 0;}
@font-face
	{font-family:"\@微软雅黑";
	panose-1:2 11 5 3 2 2 4 2 2 4;
	mso-font-charset:134;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-2147483001 718224464 22 0 262175 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-parent:"";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:10.0pt;
	mso-char-indent-count:2.0;
	mso-pagination:none;
	layout-grid-mode:char;
	mso-layout-grid-align:none;
	font-size:12.0pt;
	mso-bidi-font-size:11.0pt;
	font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:1.0pt;}
h1
	{mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-link:"标题 1 Char";
	mso-style-next:正文;
	margin-top:17.0pt;
	margin-right:0cm;
	margin-bottom:16.5pt;
	margin-left:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:0cm;
	line-height:200%;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:1;
	mso-list:l0 level1 lfo1;
	layout-grid-mode:char;
	mso-layout-grid-align:none;
	font-size:22.0pt;
	font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-font-kerning:22.0pt;}
h2
	{mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-link:"标题 2 Char";
	mso-style-next:正文;
	margin-top:13.0pt;
	margin-right:0cm;
	margin-bottom:13.0pt;
	margin-left:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:0cm;
	line-height:172%;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:2;
	mso-list:l0 level2 lfo1;
	layout-grid-mode:char;
	mso-layout-grid-align:none;
	font-size:16.0pt;
	font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	mso-font-kerning:1.0pt;}
h3
	{mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-link:"标题 3 Char";
	mso-style-next:正文;
	margin-top:13.0pt;
	margin-right:0cm;
	margin-bottom:13.0pt;
	margin-left:36.0pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:0cm;
	line-height:172%;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:3;
	mso-list:l0 level3 lfo1;
	layout-grid-mode:char;
	mso-layout-grid-align:none;
	font-size:14.0pt;
	mso-bidi-font-size:16.0pt;
	font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-font-kerning:1.0pt;}
h4
	{mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-link:"标题 4 Char";
	mso-style-next:正文;
	margin-top:14.0pt;
	margin-right:0cm;
	margin-bottom:14.5pt;
	margin-left:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:0cm;
	line-height:157%;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:4;
	mso-list:l0 level4 lfo1;
	layout-grid-mode:char;
	mso-layout-grid-align:none;
	font-size:12.0pt;
	mso-bidi-font-size:14.0pt;
	font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	mso-font-kerning:1.0pt;}
h5
	{mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-link:"标题 5 Char";
	mso-style-next:正文;
	margin-top:14.0pt;
	margin-right:0cm;
	margin-bottom:14.5pt;
	margin-left:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:0cm;
	line-height:157%;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:5;
	mso-list:l0 level5 lfo1;
	layout-grid-mode:char;
	mso-layout-grid-align:none;
	font-size:14.0pt;
	font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-font-kerning:1.0pt;}
h6
	{mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-link:"标题 6 Char";
	mso-style-next:正文;
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.2pt;
	margin-left:57.6pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-57.6pt;
	mso-char-indent-count:2.0;
	line-height:133%;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:6;
	mso-list:l0 level6 lfo1;
	layout-grid-mode:char;
	mso-layout-grid-align:none;
	font-size:12.0pt;
	font-family:"等线 Light";
	mso-ascii-font-family:"等线 Light";
	mso-ascii-theme-font:major-latin;
	mso-fareast-font-family:"等线 Light";
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:"等线 Light";
	mso-hansi-theme-font:major-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	mso-font-kerning:1.0pt;}
p.MsoHeading7, li.MsoHeading7, div.MsoHeading7
	{mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-link:"标题 7 Char";
	mso-style-next:正文;
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.2pt;
	margin-left:64.8pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-64.8pt;
	mso-char-indent-count:2.0;
	line-height:133%;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:7;
	mso-list:l0 level7 lfo1;
	layout-grid-mode:char;
	mso-layout-grid-align:none;
	font-size:12.0pt;
	font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:1.0pt;
	font-weight:bold;}
p.MsoHeading8, li.MsoHeading8, div.MsoHeading8
	{mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-link:"标题 8 Char";
	mso-style-next:正文;
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.2pt;
	margin-left:72.0pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-72.0pt;
	mso-char-indent-count:2.0;
	line-height:133%;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:8;
	mso-list:l0 level8 lfo1;
	layout-grid-mode:char;
	mso-layout-grid-align:none;
	font-size:12.0pt;
	font-family:"等线 Light";
	mso-ascii-font-family:"等线 Light";
	mso-ascii-theme-font:major-latin;
	mso-fareast-font-family:"等线 Light";
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:"等线 Light";
	mso-hansi-theme-font:major-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	mso-font-kerning:1.0pt;}
p.MsoHeading9, li.MsoHeading9, div.MsoHeading9
	{mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-link:"标题 9 Char";
	mso-style-next:正文;
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.2pt;
	margin-left:79.2pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-79.2pt;
	mso-char-indent-count:2.0;
	line-height:133%;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:9;
	mso-list:l0 level9 lfo1;
	layout-grid-mode:char;
	mso-layout-grid-align:none;
	font-size:12.0pt;
	mso-bidi-font-size:10.5pt;
	font-family:"等线 Light";
	mso-ascii-font-family:"等线 Light";
	mso-ascii-theme-font:major-latin;
	mso-fareast-font-family:"等线 Light";
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:"等线 Light";
	mso-hansi-theme-font:major-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	mso-font-kerning:1.0pt;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{mso-style-update:auto;
	mso-style-priority:39;
	mso-style-next:正文;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:10.0pt;
	mso-char-indent-count:2.0;
	mso-pagination:none;
	layout-grid-mode:char;
	mso-layout-grid-align:none;
	font-size:12.0pt;
	mso-bidi-font-size:11.0pt;
	font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:1.0pt;}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{mso-style-update:auto;
	mso-style-priority:39;
	mso-style-next:正文;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:21.0pt;
	margin-bottom:.0001pt;
	mso-para-margin-top:0cm;
	mso-para-margin-right:0cm;
	mso-para-margin-bottom:0cm;
	mso-para-margin-left:2.0gd;
	mso-para-margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:10.0pt;
	mso-char-indent-count:2.0;
	mso-pagination:none;
	layout-grid-mode:char;
	mso-layout-grid-align:none;
	font-size:12.0pt;
	mso-bidi-font-size:11.0pt;
	font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:1.0pt;}
p.MsoToc3, li.MsoToc3, div.MsoToc3
	{mso-style-update:auto;
	mso-style-priority:39;
	mso-style-next:正文;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:42.0pt;
	margin-bottom:.0001pt;
	mso-para-margin-top:0cm;
	mso-para-margin-right:0cm;
	mso-para-margin-bottom:0cm;
	mso-para-margin-left:4.0gd;
	mso-para-margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:10.0pt;
	mso-char-indent-count:2.0;
	mso-pagination:none;
	layout-grid-mode:char;
	mso-layout-grid-align:none;
	font-size:12.0pt;
	mso-bidi-font-size:11.0pt;
	font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:1.0pt;}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{mso-style-priority:99;
	mso-style-link:"页眉 Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	text-indent:10.0pt;
	mso-char-indent-count:2.0;
	mso-pagination:none;
	tab-stops:center 207.65pt right 415.3pt;
	layout-grid-mode:char;
	mso-layout-grid-align:none;
	border:none;
	mso-border-bottom-alt:solid windowtext .75pt;
	padding:0cm;
	mso-padding-alt:0cm 0cm 1.0pt 0cm;
	font-size:9.0pt;
	font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:1.0pt;}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{mso-style-priority:99;
	mso-style-link:"页脚 Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-indent:10.0pt;
	mso-char-indent-count:2.0;
	mso-pagination:none;
	tab-stops:center 207.65pt right 415.3pt;
	layout-grid-mode:char;
	mso-layout-grid-align:none;
	font-size:9.0pt;
	font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:1.0pt;}
p.MsoTitle, li.MsoTitle, div.MsoTitle
	{mso-style-priority:10;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-link:"标题 Char";
	mso-style-next:正文;
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:21.0pt;
	text-align:center;
	text-indent:0cm;
	mso-pagination:none;
	mso-outline-level:1;
	mso-list:l1 level1 lfo3;
	layout-grid-mode:char;
	background:#323E4F;
	mso-background-themecolor:text2;
	mso-background-themeshade:191;
	mso-layout-grid-align:none;
	border:none;
	mso-border-bottom-alt:solid windowtext .5pt;
	padding:0cm;
	mso-padding-alt:0cm 0cm 1.0pt 0cm;
	font-size:36.0pt;
	mso-bidi-font-size:16.0pt;
	font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	color:white;
	mso-themecolor:background1;
	mso-font-kerning:1.0pt;
	font-weight:bold;}
p.MsoSubtitle, li.MsoSubtitle, div.MsoSubtitle
	{mso-style-priority:11;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-link:"副标题 Char";
	mso-style-next:正文;
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:0cm;
	text-align:center;
	line-height:130%;
	mso-pagination:none;
	mso-outline-level:2;
	layout-grid-mode:char;
	mso-layout-grid-align:none;
	font-size:18.0pt;
	mso-bidi-font-size:16.0pt;
	font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:14.0pt;
	font-weight:bold;}
a:link, span.MsoHyperlink
	{mso-style-priority:99;
	color:#0563C1;
	mso-themecolor:hyperlink;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{mso-style-noshow:yes;
	mso-style-priority:99;
	color:#954F72;
	mso-themecolor:followedhyperlink;
	text-decoration:underline;
	text-underline:single;}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-link:"批注框文本 Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:10.0pt;
	mso-char-indent-count:2.0;
	mso-pagination:none;
	layout-grid-mode:char;
	mso-layout-grid-align:none;
	font-size:9.0pt;
	font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:1.0pt;}
p.MsoNoSpacing, li.MsoNoSpacing, div.MsoNoSpacing
	{mso-style-priority:1;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-parent:"";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:10.0pt;
	mso-char-indent-count:2.0;
	mso-pagination:none;
	layout-grid-mode:char;
	mso-layout-grid-align:none;
	font-size:10.5pt;
	mso-bidi-font-size:11.0pt;
	font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:1.0pt;}
p.MsoTocHeading, li.MsoTocHeading, div.MsoTocHeading
	{mso-style-priority:39;
	mso-style-qformat:yes;
	mso-style-parent:"标题 1";
	mso-style-next:正文;
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	line-height:107%;
	mso-pagination:widow-orphan lines-together;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"等线 Light";
	mso-ascii-font-family:"等线 Light";
	mso-ascii-theme-font:major-latin;
	mso-fareast-font-family:"等线 Light";
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:"等线 Light";
	mso-hansi-theme-font:major-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	color:#2F5496;
	mso-themecolor:accent1;
	mso-themeshade:191;}
span.1Char
	{mso-style-name:"标题 1 Char";
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"标题 1";
	mso-ansi-font-size:22.0pt;
	mso-bidi-font-size:22.0pt;
	font-family:Consolas;
	mso-ascii-font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-hansi-font-family:Consolas;
	mso-font-kerning:22.0pt;
	font-weight:bold;}
span.2Char
	{mso-style-name:"标题 2 Char";
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"标题 2";
	mso-ansi-font-size:16.0pt;
	mso-bidi-font-size:16.0pt;
	font-family:Consolas;
	mso-ascii-font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-hansi-font-family:Consolas;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	font-weight:bold;}
span.3Char
	{mso-style-name:"标题 3 Char";
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"标题 3";
	mso-ansi-font-size:14.0pt;
	mso-bidi-font-size:16.0pt;
	font-family:Consolas;
	mso-ascii-font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-hansi-font-family:Consolas;
	font-weight:bold;}
span.4Char
	{mso-style-name:"标题 4 Char";
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"标题 4";
	mso-bidi-font-size:14.0pt;
	font-family:Consolas;
	mso-ascii-font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-hansi-font-family:Consolas;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	font-weight:bold;}
span.5Char
	{mso-style-name:"标题 5 Char";
	mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"标题 5";
	mso-ansi-font-size:14.0pt;
	mso-bidi-font-size:14.0pt;
	font-family:Consolas;
	mso-ascii-font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-hansi-font-family:Consolas;
	font-weight:bold;}
span.6Char
	{mso-style-name:"标题 6 Char";
	mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"标题 6";
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:"等线 Light";
	mso-ascii-font-family:"等线 Light";
	mso-ascii-theme-font:major-latin;
	mso-fareast-font-family:"等线 Light";
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:"等线 Light";
	mso-hansi-theme-font:major-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	font-weight:bold;}
span.7Char
	{mso-style-name:"标题 7 Char";
	mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"标题 7";
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	font-weight:bold;}
span.8Char
	{mso-style-name:"标题 8 Char";
	mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"标题 8";
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:"等线 Light";
	mso-ascii-font-family:"等线 Light";
	mso-ascii-theme-font:major-latin;
	mso-fareast-font-family:"等线 Light";
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:"等线 Light";
	mso-hansi-theme-font:major-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;}
span.9Char
	{mso-style-name:"标题 9 Char";
	mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"标题 9";
	mso-bidi-font-size:10.5pt;
	font-family:"等线 Light";
	mso-ascii-font-family:"等线 Light";
	mso-ascii-theme-font:major-latin;
	mso-fareast-font-family:"等线 Light";
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:"等线 Light";
	mso-hansi-theme-font:major-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;}
p.a, li.a, div.a
	{mso-style-name:代码;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-link:"代码 字符";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	mso-pagination:none;
	layout-grid-mode:char;
	background:#D9D9D9;
	mso-background-themecolor:background1;
	mso-background-themeshade:217;
	mso-layout-grid-align:none;
	border:none;
	mso-border-alt:solid windowtext 1.0pt;
	padding:0cm;
	mso-padding-alt:12.0pt 12.0pt 12.0pt 12.0pt;
	font-size:12.0pt;
	mso-bidi-font-size:11.0pt;
	font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:1.0pt;}
p.a0, li.a0, div.a0
	{mso-style-name:代码突出;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-parent:代码;
	mso-style-link:"代码突出 字符";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	mso-pagination:none;
	layout-grid-mode:char;
	background:#ACB9CA;
	mso-background-themecolor:text2;
	mso-background-themetint:102;
	mso-layout-grid-align:none;
	border:none;
	mso-border-alt:solid windowtext 1.0pt;
	padding:0cm;
	mso-padding-alt:12.0pt 12.0pt 12.0pt 12.0pt;
	font-size:12.5pt;
	mso-bidi-font-size:11.0pt;
	font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:1.0pt;}
span.a1
	{mso-style-name:"代码 字符";
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:代码;
	mso-ansi-font-size:12.0pt;
	font-family:Consolas;
	mso-ascii-font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-hansi-font-family:Consolas;
	background:#D9D9D9;
	mso-shading-themecolor:background1;
	mso-shading-themeshade:217;}
p.a2, li.a2, div.a2
	{mso-style-name:代码标题;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-parent:代码;
	mso-style-link:"代码标题 字符";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	mso-pagination:none;
	layout-grid-mode:char;
	background:#323E4F;
	mso-background-themecolor:text2;
	mso-background-themeshade:191;
	mso-layout-grid-align:none;
	border:none;
	mso-border-top-alt:solid windowtext 1.0pt;
	mso-border-left-alt:solid windowtext 1.0pt;
	mso-border-right-alt:solid windowtext 1.0pt;
	padding:0cm;
	mso-padding-alt:1.0pt 12.0pt 0cm 12.0pt;
	font-size:16.0pt;
	mso-bidi-font-size:11.0pt;
	font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	color:white;
	mso-themecolor:background1;
	mso-font-kerning:1.0pt;
	font-weight:bold;
	mso-bidi-font-weight:normal;}
span.a3
	{mso-style-name:"代码突出 字符";
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-parent:"代码 字符";
	mso-style-link:代码突出;
	mso-ansi-font-size:12.5pt;
	font-family:Consolas;
	mso-ascii-font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-hansi-font-family:Consolas;
	background:#ACB9CA;
	mso-shading-themecolor:text2;
	mso-shading-themetint:102;}
p.1, li.1, div.1
	{mso-style-name:样式1;
	mso-style-unhide:no;
	mso-style-parent:代码;
	mso-style-link:"样式1 字符";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:12.0pt;
	mso-pagination:none;
	layout-grid-mode:char;
	background:#D9D9D9;
	mso-background-themecolor:background1;
	mso-background-themeshade:217;
	mso-layout-grid-align:none;
	border:none;
	mso-border-alt:solid windowtext 1.0pt;
	padding:0cm;
	mso-padding-alt:12.0pt 12.0pt 12.0pt 12.0pt;
	font-size:12.0pt;
	mso-bidi-font-size:11.0pt;
	font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:1.0pt;}
span.a4
	{mso-style-name:"代码标题 字符";
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-parent:"代码 字符";
	mso-style-link:代码标题;
	mso-ansi-font-size:16.0pt;
	font-family:Consolas;
	mso-ascii-font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-hansi-font-family:Consolas;
	color:white;
	mso-themecolor:background1;
	background:#323E4F;
	mso-shading-themecolor:text2;
	mso-shading-themeshade:191;
	font-weight:bold;
	mso-bidi-font-weight:normal;}
p.a5, li.a5, div.a5
	{mso-style-name:图片灰;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-parent:代码;
	mso-style-link:"图片灰 字符";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	mso-pagination:none;
	layout-grid-mode:char;
	background:gray;
	mso-layout-grid-align:none;
	border:none;
	mso-border-alt:solid windowtext 1.0pt;
	padding:0cm;
	mso-padding-alt:12.0pt 12.0pt 12.0pt 12.0pt;
	font-size:12.0pt;
	mso-bidi-font-size:11.0pt;
	font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:1.0pt;
	mso-no-proof:yes;}
span.10
	{mso-style-name:"样式1 字符";
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-parent:"代码 字符";
	mso-style-link:样式1;
	mso-ansi-font-size:12.0pt;
	font-family:Consolas;
	mso-ascii-font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-hansi-font-family:Consolas;
	background:#D9D9D9;
	mso-shading-themecolor:background1;
	mso-shading-themeshade:217;}
p.a6, li.a6, div.a6
	{mso-style-name:图片白;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-parent:图片灰;
	mso-style-link:"图片白 字符";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	mso-pagination:none;
	layout-grid-mode:char;
	background:white;
	mso-background-themecolor:background1;
	mso-layout-grid-align:none;
	border:none;
	mso-border-alt:solid windowtext 1.0pt;
	padding:0cm;
	mso-padding-alt:12.0pt 12.0pt 12.0pt 12.0pt;
	font-size:12.0pt;
	mso-bidi-font-size:11.0pt;
	font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:1.0pt;
	mso-no-proof:yes;}
span.a7
	{mso-style-name:"图片灰 字符";
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-parent:"代码 字符";
	mso-style-link:图片灰;
	mso-ansi-font-size:12.0pt;
	font-family:Consolas;
	mso-ascii-font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-hansi-font-family:Consolas;
	background:gray;
	mso-no-proof:yes;}
span.a8
	{mso-style-name:"图片白 字符";
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-parent:"图片灰 字符";
	mso-style-link:图片白;
	mso-ansi-font-size:12.0pt;
	font-family:Consolas;
	mso-ascii-font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-hansi-font-family:Consolas;
	background:white;
	mso-shading-themecolor:background1;
	mso-no-proof:yes;}
span.Char
	{mso-style-name:"页眉 Char";
	mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:页眉;
	mso-ansi-font-size:9.0pt;
	mso-bidi-font-size:9.0pt;
	font-family:Consolas;
	mso-ascii-font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-hansi-font-family:Consolas;}
span.Char0
	{mso-style-name:"页脚 Char";
	mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:页脚;
	mso-ansi-font-size:9.0pt;
	mso-bidi-font-size:9.0pt;
	font-family:Consolas;
	mso-ascii-font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-hansi-font-family:Consolas;}
span.Char1
	{mso-style-name:"标题 Char";
	mso-style-priority:10;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:标题;
	mso-ansi-font-size:36.0pt;
	mso-bidi-font-size:16.0pt;
	font-family:Consolas;
	mso-ascii-font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-hansi-font-family:Consolas;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	color:white;
	mso-themecolor:background1;
	background:#323E4F;
	mso-shading-themecolor:text2;
	mso-shading-themeshade:191;
	font-weight:bold;}
span.Char2
	{mso-style-name:"副标题 Char";
	mso-style-priority:11;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:副标题;
	mso-ansi-font-size:18.0pt;
	mso-bidi-font-size:16.0pt;
	font-family:Consolas;
	mso-ascii-font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-hansi-font-family:Consolas;
	mso-font-kerning:14.0pt;
	font-weight:bold;}
p.a9, li.a9, div.a9
	{mso-style-name:代码淡化;
	mso-style-unhide:no;
	mso-style-parent:代码;
	mso-style-link:"代码淡化 字符";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	mso-pagination:none;
	layout-grid-mode:char;
	background:#D9D9D9;
	mso-background-themecolor:background1;
	mso-background-themeshade:217;
	mso-layout-grid-align:none;
	border:none;
	mso-border-alt:solid windowtext 1.0pt;
	padding:0cm;
	mso-padding-alt:12.0pt 12.0pt 12.0pt 12.0pt;
	font-size:12.0pt;
	mso-bidi-font-size:11.0pt;
	font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	color:#A6A6A6;
	mso-themecolor:background1;
	mso-themeshade:166;
	mso-font-kerning:1.0pt;}
span.aa
	{mso-style-name:"代码淡化 字符";
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-parent:"代码 字符";
	mso-style-link:代码淡化;
	mso-ansi-font-size:12.0pt;
	font-family:Consolas;
	mso-ascii-font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-hansi-font-family:Consolas;
	color:#A6A6A6;
	mso-themecolor:background1;
	mso-themeshade:166;
	background:#D9D9D9;
	mso-shading-themecolor:background1;
	mso-shading-themeshade:217;}
p.2, li.2, div.2
	{mso-style-name:样式2;
	mso-style-unhide:no;
	mso-style-parent:图片白;
	mso-style-link:"样式2 字符";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	mso-pagination:none;
	layout-grid-mode:char;
	background:white;
	mso-background-themecolor:background1;
	mso-layout-grid-align:none;
	border:none;
	mso-border-bottom-alt:solid windowtext 1.0pt;
	padding:0cm;
	mso-padding-alt:0cm 0cm 12.0pt 0cm;
	font-size:12.0pt;
	mso-bidi-font-size:11.0pt;
	font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:1.0pt;
	mso-ansi-language:ZH-CN;
	mso-no-proof:yes;}
span.20
	{mso-style-name:"样式2 字符";
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-parent:"图片白 字符";
	mso-style-link:样式2;
	mso-ansi-font-size:12.0pt;
	font-family:Consolas;
	mso-ascii-font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-hansi-font-family:Consolas;
	background:white;
	mso-shading-themecolor:background1;
	mso-ansi-language:ZH-CN;
	mso-no-proof:yes;}
p.21, li.21, div.21
	{mso-style-name:代码突出2;
	mso-style-unhide:no;
	mso-style-parent:代码突出;
	mso-style-link:"代码突出2 字符";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	mso-pagination:none;
	layout-grid-mode:char;
	background:#ACB9CA;
	mso-background-themecolor:text2;
	mso-background-themetint:102;
	mso-layout-grid-align:none;
	border:none;
	mso-border-alt:solid windowtext 1.0pt;
	padding:0cm;
	mso-padding-alt:12.0pt 12.0pt 12.0pt 12.0pt;
	font-size:12.5pt;
	mso-bidi-font-size:11.0pt;
	font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:1.0pt;}
p.ab, li.ab, div.ab
	{mso-style-name:代码荧光笔;
	mso-style-unhide:no;
	mso-style-parent:代码;
	mso-style-link:"代码荧光笔 字符";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	mso-pagination:none;
	layout-grid-mode:char;
	background:#D9D9D9;
	mso-background-themecolor:background1;
	mso-background-themeshade:217;
	mso-layout-grid-align:none;
	border:none;
	mso-border-alt:solid windowtext 1.0pt;
	padding:0cm;
	mso-padding-alt:12.0pt 12.0pt 12.0pt 12.0pt;
	font-size:12.0pt;
	mso-bidi-font-size:11.0pt;
	font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:1.0pt;}
span.22
	{mso-style-name:"代码突出2 字符";
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-parent:"代码突出 字符";
	mso-style-link:代码突出2;
	mso-ansi-font-size:12.5pt;
	font-family:Consolas;
	mso-ascii-font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-hansi-font-family:Consolas;
	background:#FFFF66;}
span.ac
	{mso-style-name:"代码荧光笔 字符";
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-parent:"代码 字符";
	mso-style-link:代码荧光笔;
	mso-ansi-font-size:12.0pt;
	font-family:Consolas;
	mso-ascii-font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-hansi-font-family:Consolas;
	background:#D9D9D9;
	mso-shading-themecolor:background1;
	mso-shading-themeshade:217;}
p.ad, li.ad, div.ad
	{mso-style-name:代码荧光;
	mso-style-unhide:no;
	mso-style-parent:代码;
	mso-style-link:"代码荧光 字符";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	mso-pagination:none;
	layout-grid-mode:char;
	background:#D9D9D9;
	mso-background-themecolor:background1;
	mso-background-themeshade:217;
	mso-layout-grid-align:none;
	border:none;
	mso-border-alt:solid windowtext 1.0pt;
	padding:0cm;
	mso-padding-alt:12.0pt 12.0pt 12.0pt 12.0pt;
	font-size:12.0pt;
	mso-bidi-font-size:11.0pt;
	font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:1.0pt;}
span.ae
	{mso-style-name:"代码荧光 字符";
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-parent:"代码 字符";
	mso-style-link:代码荧光;
	mso-ansi-font-size:12.0pt;
	font-family:Consolas;
	mso-ascii-font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-hansi-font-family:Consolas;
	background:#D9D9D9;
	mso-shading-themecolor:background1;
	mso-shading-themeshade:217;}
span.Char3
	{mso-style-name:"批注框文本 Char";
	mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:批注框文本;
	mso-ansi-font-size:9.0pt;
	mso-bidi-font-size:9.0pt;
	font-family:Consolas;
	mso-ascii-font-family:Consolas;
	mso-fareast-font-family:微软雅黑;
	mso-hansi-font-family:Consolas;}
span.SpellE
	{mso-style-name:"";
	mso-spl-e:yes;}
span.GramE
	{mso-style-name:"";
	mso-gram-e:yes;}
.MsoChpDefault
	{mso-style-type:export-only;
	mso-default-props:yes;
	font-family:等线;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;}
 /* Page Definitions */
 @page
	{mso-page-border-surround-header:no;
	mso-page-border-surround-footer:no;
	mso-footnote-separator:url("day04.files/header.htm") fs;
	mso-footnote-continuation-separator:url("day04.files/header.htm") fcs;
	mso-endnote-separator:url("day04.files/header.htm") es;
	mso-endnote-continuation-separator:url("day04.files/header.htm") ecs;}
@page WordSection1
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	mso-header-margin:42.55pt;
	mso-footer-margin:49.6pt;
	mso-even-header:url("day04.files/header.htm") eh1;
	mso-header:url("day04.files/header.htm") h1;
	mso-even-footer:url("day04.files/header.htm") ef1;
	mso-footer:url("day04.files/header.htm") f1;
	mso-first-header:url("day04.files/header.htm") fh1;
	mso-first-footer:url("day04.files/header.htm") ff1;
	mso-paper-source:0;
	layout-grid:15.6pt;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 @list l0
	{mso-list-id:259530830;
	mso-list-template-ids:67698725;}
@list l0:level1
	{mso-level-style-link:"标题 1";
	mso-level-text:%1;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:21.6pt;
	text-indent:-21.6pt;}
@list l0:level2
	{mso-level-style-link:"标题 2";
	mso-level-text:"%1\.%2";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:28.8pt;
	text-indent:-28.8pt;}
@list l0:level3
	{mso-level-style-link:"标题 3";
	mso-level-text:"%1\.%2\.%3";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:36.0pt;
	text-indent:-36.0pt;}
@list l0:level4
	{mso-level-style-link:"标题 4";
	mso-level-text:"%1\.%2\.%3\.%4";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:43.2pt;
	text-indent:-43.2pt;}
@list l0:level5
	{mso-level-style-link:"标题 5";
	mso-level-text:"%1\.%2\.%3\.%4\.%5";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:50.4pt;
	text-indent:-50.4pt;}
@list l0:level6
	{mso-level-style-link:"标题 6";
	mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:57.6pt;
	text-indent:-57.6pt;}
@list l0:level7
	{mso-level-style-link:"标题 7";
	mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:64.8pt;
	text-indent:-64.8pt;}
@list l0:level8
	{mso-level-style-link:"标题 8";
	mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:72.0pt;
	text-indent:-72.0pt;}
@list l0:level9
	{mso-level-style-link:"标题 9";
	mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8\.%9";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:79.2pt;
	text-indent:-79.2pt;}
@list l1
	{mso-list-id:548693085;
	mso-list-type:hybrid;
	mso-list-template-ids:1110574150 -1789497024 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l1:level1
	{mso-level-number-format:arabic-leading-zero;
	mso-level-style-link:标题;
	mso-level-text:"Day%1\.";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:21.0pt;
	text-indent:-21.0pt;}
@list l1:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%2\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l1:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:63.0pt;
	text-indent:-21.0pt;}
@list l1:level4
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:84.0pt;
	text-indent:-21.0pt;}
@list l1:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:105.0pt;
	text-indent:-21.0pt;}
@list l1:level6
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:126.0pt;
	text-indent:-21.0pt;}
@list l1:level7
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:147.0pt;
	text-indent:-21.0pt;}
@list l1:level8
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%8\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:168.0pt;
	text-indent:-21.0pt;}
@list l1:level9
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:189.0pt;
	text-indent:-21.0pt;}
@list l2
	{mso-list-id:1913001810;
	mso-list-template-ids:-1551057392;}
@list l2:level1
	{mso-level-text:%1;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:31.5pt;
	text-indent:-31.5pt;}
@list l2:level2
	{mso-level-text:"%1\.%2";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:73.5pt;
	text-indent:-31.5pt;}
@list l2:level3
	{mso-level-text:"%1\.%2\.%3";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:120.0pt;
	text-indent:-36.0pt;}
@list l2:level4
	{mso-level-text:"%1\.%2\.%3\.%4";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:180.0pt;
	text-indent:-54.0pt;}
@list l2:level5
	{mso-level-text:"%1\.%2\.%3\.%4\.%5";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:222.0pt;
	text-indent:-54.0pt;}
@list l2:level6
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:282.0pt;
	text-indent:-72.0pt;}
@list l2:level7
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:342.0pt;
	text-indent:-90.0pt;}
@list l2:level8
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:384.0pt;
	text-indent:-90.0pt;}
@list l2:level9
	{mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8\.%9";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:444.0pt;
	text-indent:-108.0pt;}
ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:普通表格;
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-parent:"";
	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
	mso-para-margin:0cm;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.5pt;
	mso-bidi-font-size:11.0pt;
	font-family:等线;
	mso-ascii-font-family:等线;
	mso-ascii-theme-font:minor-latin;
	mso-fareast-font-family:等线;
	mso-fareast-theme-font:minor-fareast;
	mso-hansi-font-family:等线;
	mso-hansi-theme-font:minor-latin;
	mso-font-kerning:1.0pt;}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="2049"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=ZH-CN link="#0563C1" vlink="#954F72" style='tab-interval:21.0pt;
text-justify-trim:punctuation'>

<div class=WordSection1 style='layout-grid:15.6pt'>

<div style='mso-element:para-border-div;border:none;border-bottom:solid windowtext 1.0pt;
padding:0cm 0cm 12.0pt 0cm;background:white;mso-background-themecolor:background1'>

<p class=2 align=right style='text-align:right;background:white;mso-background-themecolor:
background1'><span lang=EN-US style='mso-ansi-language:EN-US'><!--[if gte vml 1]><v:shapetype
 id="_x0000_t75" coordsize="21600,21600" o:spt="75" o:preferrelative="t"
 path="m@4@5l@4@11@9@11@9@5xe" filled="f" stroked="f">
 <v:stroke joinstyle="miter"/>
 <v:formulas>
  <v:f eqn="if lineDrawn pixelLineWidth 0"/>
  <v:f eqn="sum @0 1 0"/>
  <v:f eqn="sum 0 0 @1"/>
  <v:f eqn="prod @2 1 2"/>
  <v:f eqn="prod @3 21600 pixelWidth"/>
  <v:f eqn="prod @3 21600 pixelHeight"/>
  <v:f eqn="sum @0 0 1"/>
  <v:f eqn="prod @6 1 2"/>
  <v:f eqn="prod @7 21600 pixelWidth"/>
  <v:f eqn="sum @8 21600 0"/>
  <v:f eqn="prod @7 21600 pixelHeight"/>
  <v:f eqn="sum @10 21600 0"/>
 </v:formulas>
 <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"/>
 <o:lock v:ext="edit" aspectratio="t"/>
</v:shapetype><v:shape id="图片_x0020_1" o:spid="_x0000_i1028" type="#_x0000_t75"
 style='width:79.5pt;height:27pt;visibility:visible;mso-wrap-style:square'>
 <v:imagedata src="day04.files/image001.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=106 height=36
src="day04.files/image002.jpg" v:shapes="图片_x0020_1"><![endif]></span></p>

</div>

<h1 style='margin-left:0cm;text-indent:0cm;mso-list:l0 level1 lfo1'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Consolas;mso-bidi-font-family:Consolas'><span
style='mso-list:Ignore'>1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>代码实现</span><span
lang=EN-US>V1.0</span></h1>

<h2 style='margin-left:0cm;text-indent:0cm;mso-list:l0 level2 lfo1'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Consolas;mso-bidi-font-family:Consolas'><span
style='mso-list:Ignore'>1.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>动态响应文件</span></h2>

<p class=MsoNormal style='text-indent:24.0pt'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>开发思路：</span></p>

<p class=MsoNormal style='text-indent:24.0pt'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>根据浏览器在地址栏输入的内容，可以从请求行中分析出来。</span></p>

<p class=MsoNormal style='text-indent:24.0pt'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>如：</span></p>

<p class=MsoNormal style='text-indent:24.0pt'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>地址栏输入：</span><span
lang=EN-US>http://localhost:8080<span style='background:yellow;mso-highlight:
yellow'>/12345.html</span></span></p>

<p class=MsoNormal style='text-indent:24.0pt'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>请求行：</span><span
lang=EN-US>GET <span style='background:yellow;mso-highlight:yellow'>/12345.html</span>
HTTP/1.1</span></p>

<p class=MsoNormal style='text-indent:24.0pt'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>这时，需要获取请求行作为大的字符串，再根据空格切割字符串，返回的字符串数组，获取脚标为</span><span
lang=EN-US>1</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>的元素，动态拼接</span><span lang=EN-US>file</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>的路径即可。</span></p>

<p class=MsoNormal style='text-indent:24.0pt'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:24.0pt'><span lang=EN-US
style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape id="图片_x0020_2" o:spid="_x0000_i1027"
 type="#_x0000_t75" style='width:219pt;height:182.25pt;visibility:visible;
 mso-wrap-style:square'>
 <v:imagedata src="day04.files/image003.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=292 height=243
src="day04.files/image003.png" v:shapes="图片_x0020_2"><![endif]></span></p>

<h2 style='margin-left:0cm;text-indent:0cm;mso-list:l0 level2 lfo1'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Consolas;mso-bidi-font-family:Consolas'><span
style='mso-list:Ignore'>1.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>改造</span><span
lang=EN-US>run</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>方法</span></h2>

<p class=MsoNormal style='text-indent:24.0pt'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
padding:12.0pt 12.0pt 12.0pt 12.0pt;background:#D9D9D9;mso-background-themecolor:
background1;mso-background-themeshade:217'>

<p class=a><span lang=EN-US>// 4,</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>重写</span><span
lang=EN-US>run</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>方法，提取响应代码</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span></span><span lang=EN-US style='color:#646464'>@Override</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span></span><span class=GramE><b><span lang=EN-US
style='color:#7F0055'>public</span></b></span><span lang=EN-US
style='color:black'> </span><b><span lang=EN-US style='color:#7F0055'>void</span></b><span
lang=EN-US style='color:black'> run() {</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span class=GramE><b><span
lang=EN-US style='color:#7F0055'>try</span></b></span><span lang=EN-US
style='color:black'> {</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>//</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>动态跳转网页文件</span></p>

<p class=a0><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>//i,,,,,</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>获取请求行</span><span
lang=EN-US>GET /index.<span class=GramE>html</span> HTTP/1.1</span></p>

<p class=a0><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=SpellE>BufferedReader</span>
</span><span lang=EN-US style='color:#6A3E3E'>reader</span><span lang=EN-US
style='color:black'> = </span></p>

<p class=a0><span lang=EN-US style='color:black'><span style='mso-tab-count:
5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=GramE><b><span lang=EN-US style='color:#7F0055'>new</span></b></span><span
lang=EN-US style='color:black'> <span class=SpellE>BufferedReader</span>(</span></p>

<p class=a0><span lang=EN-US style='color:black'><span style='mso-tab-count:
6'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=GramE><b><span lang=EN-US style='color:#7F0055'>new</span></b></span><span
lang=EN-US style='color:black'> <span class=SpellE>InputStreamReader</span>(</span></p>

<p class=a0><span lang=EN-US style='color:black'><span style='mso-tab-count:
8'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=SpellE><span class=GramE><span lang=EN-US style='color:#0000C0'>socket</span><span
lang=EN-US style='color:black'>.getInputStream</span></span></span><span
class=GramE><span lang=EN-US style='color:black'>(</span></span><span
lang=EN-US style='color:black'>)));</span></p>

<p class=a0><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>//line-&gt;GET /hello.html HTTP/1.1</span></p>

<p class=a0><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>String </span><span
lang=EN-US style='color:#6A3E3E'>line</span><span lang=EN-US style='color:black'>
= </span><span class=SpellE><span class=GramE><span lang=EN-US
style='color:#6A3E3E'>reader</span><span lang=EN-US style='color:black'>.readLine</span></span></span><span
class=GramE><span lang=EN-US style='color:black'>(</span></span><span
lang=EN-US style='color:black'>);</span></p>

<p class=a0><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>//ii,,,,,</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>解析请求行的第二块数据</span></p>

<p class=a0><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>//<span class=SpellE><u>datas</u></span>-<span class=GramE>&gt;[</span>GET,/<span
class=SpellE>hello.html,HTTP</span>/1.1]</span></p>

<p class=a0><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=GramE>String[</span>]
</span><span class=SpellE><span lang=EN-US style='color:#6A3E3E'>datas</span></span><span
lang=EN-US style='color:black'> = </span><span class=SpellE><span lang=EN-US
style='color:#6A3E3E'>line</span><span lang=EN-US style='color:black'>.split</span></span><span
lang=EN-US style='color:black'>(</span><span lang=EN-US style='color:#2A00FF'>&quot;
&quot;</span><span lang=EN-US style='color:black'>);</span></p>

<p class=a0><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>//<span class=SpellE><u>uri</u></span>-&gt;/hello.html</span></p>

<p class=a0><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>String </span><span
class=SpellE><span lang=EN-US style='color:#6A3E3E'>uri</span></span><span
lang=EN-US style='color:black'> = </span><span class=SpellE><span class=GramE><span
lang=EN-US style='color:#6A3E3E'>datas</span></span></span><span class=GramE><span
lang=EN-US style='color:black'>[</span></span><span lang=EN-US
style='color:black'>1];</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=SpellE>PrintStream</span>
</span><span class=SpellE><span lang=EN-US style='color:#6A3E3E'>ps</span></span><span
lang=EN-US style='color:black'> =</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=GramE><b><span lang=EN-US style='color:#7F0055'>new</span></b></span><span
lang=EN-US style='color:black'> <span class=SpellE>PrintStream</span>(</span><span
class=SpellE><span lang=EN-US style='color:#0000C0'>socket</span><span
lang=EN-US style='color:black'>.getOutputStream</span></span><span lang=EN-US
style='color:black'>());</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>// </span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>拼接正确格式的响应代码</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>// </span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>状态行</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=SpellE><span class=GramE><span lang=EN-US style='color:#6A3E3E'>ps</span><span
lang=EN-US style='color:black'>.println</span></span></span><span class=GramE><span
lang=EN-US style='color:black'>(</span></span><span lang=EN-US
style='color:#2A00FF'>&quot;HTTP/1.1 200 OK&quot;</span><span lang=EN-US
style='color:black'>);</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>// </span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>若干响应头，指定网页要显示的数据格式</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=SpellE><span class=GramE><span lang=EN-US style='color:#6A3E3E'>ps</span><span
lang=EN-US style='color:black'>.println</span></span></span><span class=GramE><span
lang=EN-US style='color:black'>(</span></span><span lang=EN-US
style='color:#2A00FF'>&quot;<span class=SpellE>Content-Type:text</span>/html&quot;</span><span
lang=EN-US style='color:black'>);</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>// </span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>响应数据的长度</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>// String data =&quot;</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>你好</span><span
lang=EN-US>!&quot;;</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>// <span class=SpellE><span class=GramE>ps.println</span></span><span
class=GramE>(</span>&quot;Content-Length:&quot;+<span class=SpellE>data.getBytes</span>().length);</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span><span
lang=EN-US>// <span class=SpellE><span class=GramE>ps.write</span></span><span
class=GramE>(</span><span class=SpellE>data.getBytes</span>());</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>// A,,,,,</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>响应网页文件</span></p>

<p class=a0><span lang=EN-US>//<span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>File
<span class=SpellE>file</span> = new <span class=GramE>File(</span>&quot;<span
class=SpellE>WebContent</span>/hello.html&quot;);</span></p>

<p class=a0><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a0><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>//iii,,,,,</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>解析请求行的第二块数据</span></p>

<p class=a0><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>File </span><span
class=SpellE><span lang=EN-US style='color:#6A3E3E'>file</span></span><span
lang=EN-US style='color:black'> = </span><b><span lang=EN-US style='color:#7F0055'>new</span></b><span
lang=EN-US style='color:black'> <span class=GramE>File(</span></span><span
lang=EN-US style='color:#2A00FF'>&quot;<span class=SpellE>WebContent</span>&quot;</span><span
lang=EN-US style='color:black'>+</span><span class=SpellE><span lang=EN-US
style='color:#6A3E3E'>uri</span></span><span lang=EN-US style='color:black'>);</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=SpellE><span class=GramE><span lang=EN-US style='color:#6A3E3E'>ps</span><span
lang=EN-US style='color:black'>.println</span></span></span><span class=GramE><span
lang=EN-US style='color:black'>(</span></span><span lang=EN-US
style='color:#2A00FF'>&quot;Content-Length:&quot;</span><span lang=EN-US
style='color:black'> + </span><span class=SpellE><span lang=EN-US
style='color:#6A3E3E'>file</span><span lang=EN-US style='color:black'>.length</span></span><span
lang=EN-US style='color:black'>());</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>// </span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>空白行</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=SpellE><span class=GramE><span lang=EN-US style='color:#6A3E3E'>ps</span><span
lang=EN-US style='color:black'>.println</span></span></span><span class=GramE><span
lang=EN-US style='color:black'>(</span></span><span lang=EN-US
style='color:black'>);</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span><span
lang=EN-US>// </span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>响应实体</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>// B,,,,,</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>响应网页文件</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=SpellE>BufferedInputStream</span>
</span><span class=SpellE><u><span lang=EN-US style='color:#6A3E3E'>bis</span></u></span><span
lang=EN-US style='color:black'> =</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=GramE><b><span lang=EN-US style='color:#7F0055'>new</span></b></span><span
lang=EN-US style='color:black'> <span class=SpellE>BufferedInputStream</span>(</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
7'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=GramE><b><span lang=EN-US style='color:#7F0055'>new</span></b></span><span
lang=EN-US style='color:black'> <span class=SpellE>FileInputStream</span>(</span><span
lang=EN-US style='color:#6A3E3E'>file</span><span lang=EN-US style='color:black'>));</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=GramE><b><span lang=EN-US style='color:#7F0055'>byte</span></b><span
lang=EN-US style='color:black'>[</span></span><span lang=EN-US
style='color:black'>] </span><span lang=EN-US style='color:#6A3E3E'>b</span><span
lang=EN-US style='color:black'> = </span><b><span lang=EN-US style='color:#7F0055'>new</span></b><span
lang=EN-US style='color:black'> </span><b><span lang=EN-US style='color:#7F0055'>byte</span></b><span
lang=EN-US style='color:black'>[(</span><span class=SpellE><b><span lang=EN-US
style='color:#7F0055'>int</span></b></span><span lang=EN-US style='color:black'>)
</span><span class=SpellE><span lang=EN-US style='color:#6A3E3E'>file</span><span
lang=EN-US style='color:black'>.length</span></span><span lang=EN-US
style='color:black'>()];</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=SpellE><span lang=EN-US style='color:#6A3E3E'>bis</span><span lang=EN-US
style='color:black'>.read</span></span><span lang=EN-US style='color:black'>(</span><span
lang=EN-US style='color:#6A3E3E'>b</span><span lang=EN-US style='color:black'>);</span><span
lang=EN-US>// </span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>把文件读到数组里</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=SpellE><span lang=EN-US style='color:#6A3E3E'>ps</span><span lang=EN-US
style='color:black'>.write</span></span><span lang=EN-US style='color:black'>(</span><span
lang=EN-US style='color:#6A3E3E'>b</span><span lang=EN-US style='color:black'>);</span><span
lang=EN-US>// </span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>把文件写出去</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=SpellE><span class=GramE><span lang=EN-US style='color:#0000C0'>socket</span><span
lang=EN-US style='color:black'>.close</span></span></span><span class=GramE><span
lang=EN-US style='color:black'>(</span></span><span lang=EN-US
style='color:black'>);</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>} </span><b><span lang=EN-US
style='color:#7F0055'>catch</span></b><span lang=EN-US style='color:black'> (<span
class=SpellE>IOException</span> </span><span lang=EN-US style='color:#6A3E3E'>e</span><span
lang=EN-US style='color:black'>) {</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=SpellE><span class=GramE><span lang=EN-US style='color:#6A3E3E'>e</span><span
lang=EN-US style='color:black'>.printStackTrace</span></span></span><span
class=GramE><span lang=EN-US style='color:black'>(</span></span><span
lang=EN-US style='color:black'>);</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</span></p>

</div>

<h2 style='margin-left:0cm;text-indent:0cm;mso-list:l0 level2 lfo1'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Consolas;mso-bidi-font-family:Consolas'><span
style='mso-list:Ignore'>1.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>准备网页文件</span></h2>

<p class=MsoNormal style='text-indent:24.0pt'><span lang=EN-US
style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape id="图片_x0020_3" o:spid="_x0000_i1026"
 type="#_x0000_t75" style='width:6in;height:234.75pt;visibility:visible;
 mso-wrap-style:square'>
 <v:imagedata src="day04.files/image004.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=576 height=313
src="day04.files/image005.jpg" v:shapes="图片_x0020_3"><![endif]></span></p>

<h2 style='margin-left:0cm;text-indent:0cm;mso-list:l0 level2 lfo1'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Consolas;mso-bidi-font-family:Consolas'><span
style='mso-list:Ignore'>1.4<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>测试</span></h2>

<p class=MsoNormal style='text-indent:24.0pt'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>浏览器想要访问哪个网页，就可以动态的显示哪个网页</span></p>

<p class=MsoNormal style='text-indent:24.0pt'><span lang=EN-US
style='mso-no-proof:yes'><!--[if gte vml 1]><v:shape id="图片_x0020_4" o:spid="_x0000_i1025"
 type="#_x0000_t75" style='width:6in;height:88.5pt;visibility:visible;
 mso-wrap-style:square'>
 <v:imagedata src="day04.files/image006.png" o:title=""/>
</v:shape><![endif]--><![if !vml]><img width=576 height=118
src="day04.files/image007.jpg" v:shapes="图片_x0020_4"><![endif]></span></p>

<p class=MsoNormal style='text-indent:24.0pt'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<h1 style='margin-left:0cm;text-indent:0cm;mso-list:l0 level1 lfo1'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Consolas;mso-bidi-font-family:Consolas'><span
style='mso-list:Ignore'>2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>代码实现</span><span
lang=EN-US>V2.0―</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>代码重构</span></h1>

<h2 style='margin-left:0cm;text-indent:0cm;mso-list:l0 level2 lfo1'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Consolas;mso-bidi-font-family:Consolas'><span
style='mso-list:Ignore'>2.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>创建</span><span
class=SpellE><span lang=EN-US>HttpRequest</span></span><span style='font-family:
"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>类</span></h2>

<h3 style='text-indent:0cm;mso-list:l0 level3 lfo1'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Consolas;mso-bidi-font-family:Consolas'><span
style='mso-list:Ignore'>2.1.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>声明</span><span
lang=EN-US>3</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>个请求属性，</span><span lang=EN-US>setter<span
style='mso-spacerun:yes'>&nbsp; </span>getter</span></h3>

<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
padding:12.0pt 12.0pt 12.0pt 12.0pt;background:#D9D9D9;mso-background-themecolor:
background1;mso-background-themeshade:217'>

<p class=a><span class=GramE><b><span lang=EN-US style='color:#7F0055'>package</span></b></span><span
lang=EN-US> <span class=SpellE>cn.tedu.http</span>;</span></p>

<p class=a><span lang=EN-US style='color:#3F5FBF'>/**</span></p>

<p class=a><span lang=EN-US style='color:#3F5FBF'><span
style='mso-spacerun:yes'>&nbsp;</span>* </span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;color:#3F5FBF'>这个类用来封装请求的信息</span></p>

<p class=a><span lang=EN-US style='color:#3F5FBF'><span
style='mso-spacerun:yes'>&nbsp;</span>* GET /index.html HTTP/1.1</span></p>

<p class=a><span lang=EN-US style='color:#3F5FBF'>2.1.1<span style='mso-tab-count:
1'> </span></span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas;color:#3F5FBF'>声明</span><span
lang=EN-US style='color:#3F5FBF'>3</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;color:#3F5FBF'>个请求属性，</span><span
lang=EN-US style='color:#3F5FBF'>setter<span style='mso-spacerun:yes'>&nbsp;
</span>getter</span></p>

<p class=a><span lang=EN-US style='color:#3F5FBF'>2.1.2<span style='mso-tab-count:
1'> </span></span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas;color:#3F5FBF'>在构造函数中初始化参数的值</span></p>

<p class=a><span lang=EN-US style='color:#3F5FBF'>2.1.3<span style='mso-tab-count:
1'> </span></span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas;color:#3F5FBF'>改在</span><span
lang=EN-US style='color:#3F5FBF'>run</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;color:#3F5FBF'>方法</span></p>

<p class=a><span lang=EN-US style='color:#3F5FBF'><span
style='mso-spacerun:yes'>&nbsp;</span>*/</span></p>

<p class=a><span class=GramE><b><span lang=EN-US style='color:#7F0055'>public</span></b></span><span
lang=EN-US> <b><span style='color:#7F0055'>class</span></b> <span class=SpellE>HttpRequest</span>
{</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
style='color:#3F7F5F'>//</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;color:#3F7F5F'>请求方式</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>private</span></b></span> String <span
style='color:#0000C0'>method</span>;</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
style='color:#3F7F5F'>//</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;color:#3F7F5F'>请求的资源路径</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>private</span></b></span> String <span
class=SpellE><span style='color:#0000C0'>uri</span></span>;</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
style='color:#3F7F5F'>//</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;color:#3F7F5F'>遵循的协议名和版本号</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>private</span></b></span> String <span
style='color:#0000C0'>protocol</span>;</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>public</span></b></span> String <span
class=SpellE>getMethod</span>() {</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>return</span></b></span> <span
style='color:#0000C0'>method</span>;</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>public</span></b></span> <b><span
style='color:#7F0055'>void</span></b> <span class=SpellE>setMethod</span>(String
<span style='color:#6A3E3E'>method</span>) {</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><b><span style='color:#7F0055'>this</span></b>.<span
style='color:#0000C0'>method</span></span> = <span style='color:#6A3E3E'>method</span>;</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>public</span></b></span> String <span
class=SpellE>getUri</span>() {</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>return</span></b></span> <span
class=SpellE><span style='color:#0000C0'>uri</span></span>;</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>public</span></b></span> <b><span
style='color:#7F0055'>void</span></b> <span class=SpellE>setUri</span>(String <span
class=SpellE><span style='color:#6A3E3E'>uri</span></span>) {</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><b><span style='color:#7F0055'>this</span></b>.<span
style='color:#0000C0'>uri</span></span> = <span class=SpellE><span
style='color:#6A3E3E'>uri</span></span>;</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>public</span></b></span> String <span
class=SpellE>getProtocol</span>() {</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>return</span></b></span> <span
style='color:#0000C0'>protocol</span>;</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>public</span></b></span> <b><span
style='color:#7F0055'>void</span></b> <span class=SpellE>setProtocol</span>(String
<span style='color:#6A3E3E'>protocol</span>) {</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><b><span style='color:#7F0055'>this</span></b>.<span
style='color:#0000C0'>protocol</span></span> = <span style='color:#6A3E3E'>protocol</span>;</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US>}</span></p>

</div>

<p class=MsoNormal style='text-indent:24.0pt'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:24.0pt'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<h3 style='text-indent:0cm;mso-list:l0 level3 lfo1'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Consolas;mso-bidi-font-family:Consolas'><span
style='mso-list:Ignore'>2.1.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>在构造函数中初始化参数的值</span></h3>

<p class=MsoNormal style='text-indent:24.0pt'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
padding:12.0pt 12.0pt 12.0pt 12.0pt;background:#D9D9D9;mso-background-themecolor:
background1;mso-background-themeshade:217'>

<p class=a><span lang=EN-US>//2</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>，，在构造函数中初始化参数值</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span></span><span class=GramE><b><span lang=EN-US
style='color:#7F0055'>public</span></b></span><span lang=EN-US
style='color:black'> <span class=SpellE>HttpRequest</span>(<span class=SpellE>InputStream</span>
</span><span lang=EN-US style='color:#6A3E3E'>in</span><span lang=EN-US
style='color:black'>){</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span lang=EN-US>//</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>获取请求行的信息</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span class=GramE><b><span
lang=EN-US style='color:#7F0055'>try</span></b></span><span lang=EN-US
style='color:black'> {</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=SpellE>BufferedReader</span>
</span><span lang=EN-US style='color:#6A3E3E'>reader</span><span lang=EN-US
style='color:black'> =</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=GramE><b><span lang=EN-US style='color:#7F0055'>new</span></b></span><span
lang=EN-US style='color:black'> <span class=SpellE>BufferedReader</span>(</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
7'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=GramE><b><span lang=EN-US style='color:#7F0055'>new</span></b></span><span
lang=EN-US style='color:black'> <span class=SpellE>InputStreamReader</span>(</span><span
lang=EN-US style='color:#6A3E3E'>in</span><span lang=EN-US style='color:black'>));</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>//GET /index.html HTTP/1.1</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>String </span><span
lang=EN-US style='color:#6A3E3E'>line</span><span lang=EN-US style='color:black'>
= </span><span class=SpellE><span class=GramE><span lang=EN-US
style='color:#6A3E3E'>reader</span><span lang=EN-US style='color:black'>.readLine</span></span></span><span
class=GramE><span lang=EN-US style='color:black'>(</span></span><span
lang=EN-US style='color:black'>);</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span><span
class=GramE><b><span lang=EN-US style='color:#7F0055'>if</span></b><span
lang=EN-US style='color:black'>(</span></span><span lang=EN-US
style='color:#6A3E3E'>line</span><span lang=EN-US style='color:black'>!=</span><b><span
lang=EN-US style='color:#7F0055'>null</span></b><span lang=EN-US
style='color:black'> &amp;&amp; </span><span class=SpellE><span lang=EN-US
style='color:#6A3E3E'>line</span><span lang=EN-US style='color:black'>.length</span></span><span
lang=EN-US style='color:black'>()&gt;0){</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>//[GET<span class=GramE>,/</span><span class=SpellE>index.html,HTTP</span>/1.1]</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>String[</span>] </span><span class=SpellE><span lang=EN-US
style='color:#6A3E3E'>datas</span></span><span lang=EN-US style='color:black'>
= </span><span class=SpellE><span lang=EN-US style='color:#6A3E3E'>line</span><span
lang=EN-US style='color:black'>.split</span></span><span lang=EN-US
style='color:black'>(</span><span lang=EN-US style='color:#2A00FF'>&quot;
&quot;</span><span lang=EN-US style='color:black'>);</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=GramE><span lang=EN-US style='color:#0000C0'>method</span></span><span
lang=EN-US style='color:black'> = </span><span class=SpellE><span lang=EN-US
style='color:#6A3E3E'>datas</span></span><span lang=EN-US style='color:black'>[0];</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=SpellE><span class=GramE><span lang=EN-US style='color:#0000C0'>uri</span></span></span><span
lang=EN-US style='color:black'> = </span><span class=SpellE><span lang=EN-US
style='color:#6A3E3E'>datas</span></span><span lang=EN-US style='color:black'>[1];</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>//</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>给网站设置默认主页</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=GramE><b><span lang=EN-US style='color:#7F0055'>if</span></b><span
lang=EN-US style='color:black'>(</span></span><span class=SpellE><span
lang=EN-US style='color:#0000C0'>uri</span><span lang=EN-US style='color:black'>.equals</span></span><span
lang=EN-US style='color:black'>(</span><span lang=EN-US style='color:#2A00FF'>&quot;/&quot;</span><span
lang=EN-US style='color:black'>)){</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=SpellE><span class=GramE><span lang=EN-US style='color:#0000C0'>uri</span></span></span><span
lang=EN-US style='color:black'>=</span><span lang=EN-US style='color:#2A00FF'>&quot;/index.html&quot;</span><span
lang=EN-US style='color:black'>;</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=GramE><span lang=EN-US style='color:#0000C0'>protocol</span></span><span
lang=EN-US style='color:black'> = </span><span class=SpellE><span lang=EN-US
style='color:#6A3E3E'>datas</span></span><span lang=EN-US style='color:black'>[2];</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>} </span><b><span lang=EN-US
style='color:#7F0055'>catch</span></b><span lang=EN-US style='color:black'> (<span
class=SpellE>IOException</span> </span><span lang=EN-US style='color:#6A3E3E'>e</span><span
lang=EN-US style='color:black'>) {</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=SpellE><span class=GramE><span lang=EN-US style='color:#6A3E3E'>e</span><span
lang=EN-US style='color:black'>.printStackTrace</span></span></span><span
class=GramE><span lang=EN-US style='color:black'>(</span></span><span
lang=EN-US style='color:black'>);</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span>}</span></p>

</div>

<h3 style='text-indent:0cm;mso-list:l0 level3 lfo1'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Consolas;mso-bidi-font-family:Consolas'><span
style='mso-list:Ignore'>2.1.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>改在</span><span
lang=EN-US>run</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>方法</span></h3>

<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
padding:12.0pt 12.0pt 12.0pt 12.0pt;background:#D9D9D9;mso-background-themecolor:
background1;mso-background-themeshade:217'>

<p class=a><span lang=EN-US>// 4,</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>重写</span><span
lang=EN-US>run</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>方法，提取响应代码</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span></span><span lang=EN-US style='color:#646464'>@Override</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span></span><span class=GramE><b><span lang=EN-US
style='color:#7F0055'>public</span></b></span><span lang=EN-US
style='color:black'> </span><b><span lang=EN-US style='color:#7F0055'>void</span></b><span
lang=EN-US style='color:black'> run() {</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span class=GramE><b><span
lang=EN-US style='color:#7F0055'>try</span></b></span><span lang=EN-US
style='color:black'> {</span></p>

<p class=a0><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>// </span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>动态跳转网页文件</span></p>

<p class=a0><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>// i,,,,,</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>获取请求行</span><span
lang=EN-US>GET /index.<span class=GramE>html</span> HTTP/1.1</span></p>

<p class=a0><span lang=EN-US>//<span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>BufferedReader</span> reader = new <span class=SpellE><span
class=GramE>BufferedReader</span></span><span class=GramE>(</span>new <span
class=SpellE>InputStreamReader</span>(<span class=SpellE>socket.getInputStream</span>()));</span></p>

<p class=a0><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>// line-&gt;GET /hello.html HTTP/1.1</span></p>

<p class=a0><span lang=EN-US>//<span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>String
line = <span class=SpellE><span class=GramE>reader.readLine</span></span><span
class=GramE>(</span>);</span></p>

<p class=a0><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>// ii,,,,,</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>解析请求行的第二块数据</span></p>

<p class=a0><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>// <span class=SpellE><u>datas</u></span>-<span class=GramE>&gt;[</span>GET,/<span
class=SpellE>hello.html,HTTP</span>/1.1]</span></p>

<p class=a0><span lang=EN-US>//<span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>if
(<span class=GramE>line !</span>= null &amp;&amp; <span class=SpellE>line.length</span>()
&gt; 0) {</span></p>

<p class=a0><span lang=EN-US>//<span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>String[</span>] <span class=SpellE><u>datas</u></span> = <span
class=SpellE>line.split</span>(&quot; &quot;);</span></p>

<p class=a0><span lang=EN-US style='color:black'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>// <span class=SpellE><u>uri</u></span>-&gt;/hello.html</span></p>

<p class=a0><span lang=EN-US>//<span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>String
<span class=SpellE><u>uri</u></span> = <span class=SpellE><span class=GramE><u>datas</u></span></span><span
class=GramE>[</span>1];</span></p>

<p class=a0><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a0><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>//</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>利用请求对象处理请求业务</span></p>

<p class=a0><span lang=EN-US style='color:black'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>HttpRequest</span> </span><span lang=EN-US style='color:#6A3E3E'>request</span><span
lang=EN-US style='color:black'> =</span></p>

<p class=a0><span lang=EN-US style='color:black'><span style='mso-tab-count:
5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=GramE><b><span lang=EN-US style='color:#7F0055'>new</span></b></span><span
lang=EN-US style='color:black'> <span class=SpellE>HttpRequest</span>(</span></p>

<p class=a0><span lang=EN-US style='color:black'><span style='mso-tab-count:
6'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=SpellE><span class=GramE><span lang=EN-US style='color:#0000C0'>socket</span><span
lang=EN-US style='color:black'>.getInputStream</span></span></span><span
class=GramE><span lang=EN-US style='color:black'>(</span></span><span
lang=EN-US style='color:black'>));</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>PrintStream</span> </span><span class=SpellE><span lang=EN-US
style='color:#6A3E3E'>ps</span></span><span lang=EN-US style='color:black'> = </span><b><span
lang=EN-US style='color:#7F0055'>new</span></b><span lang=EN-US
style='color:black'> <span class=SpellE><span class=GramE>PrintStream</span></span><span
class=GramE>(</span></span><span class=SpellE><span lang=EN-US
style='color:#0000C0'>socket</span><span lang=EN-US style='color:black'>.getOutputStream</span></span><span
lang=EN-US style='color:black'>());</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>// </span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>拼接正确格式的响应代码</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>// </span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>状态行</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=SpellE><span class=GramE><span lang=EN-US style='color:#6A3E3E'>ps</span><span
lang=EN-US style='color:black'>.println</span></span></span><span class=GramE><span
lang=EN-US style='color:black'>(</span></span><span lang=EN-US
style='color:#2A00FF'>&quot;HTTP/1.1 200 OK&quot;</span><span lang=EN-US
style='color:black'>);</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>// </span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>若干响应头，指定网页要显示的数据格式</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=SpellE><span class=GramE><span lang=EN-US style='color:#6A3E3E'>ps</span><span
lang=EN-US style='color:black'>.println</span></span></span><span class=GramE><span
lang=EN-US style='color:black'>(</span></span><span lang=EN-US
style='color:#2A00FF'>&quot;<span class=SpellE>Content-Type:text</span>/html&quot;</span><span
lang=EN-US style='color:black'>);</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>// </span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>响应数据的长度</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>// String data =&quot;</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>你好</span><span
lang=EN-US>!&quot;;</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>// <span class=SpellE><span class=GramE>ps.println</span></span><span
class=GramE>(</span>&quot;Content-Length:&quot;+<span class=SpellE>data.getBytes</span>().length);</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>// <span class=SpellE><span class=GramE>ps.write</span></span><span
class=GramE>(</span><span class=SpellE>data.getBytes</span>());</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>// A,,,,,</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>响应网页文件</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>// File <span class=SpellE>file</span> = new <span class=GramE>File(</span>&quot;<span
class=SpellE>WebContent</span>/hello.html&quot;);</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>// iii,,,,,</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>解析请求行的第二块数据</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>File
</span><span class=SpellE><span lang=EN-US style='color:#6A3E3E'>file</span></span><span
lang=EN-US style='color:black'> = </span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
6'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=GramE><b><span lang=EN-US style='color:#7F0055'>new</span></b></span><span
lang=EN-US style='color:black'> File(</span><span lang=EN-US style='color:#2A00FF'>&quot;<span
class=SpellE>WebContent</span>&quot;</span><span lang=EN-US style='color:black'>
+ </span><span class=SpellE><span class=a3><span lang=EN-US style='font-size:
12.5pt;mso-bidi-font-size:11.0pt'>request.getUri</span></span></span><span
class=a3><span lang=EN-US style='font-size:12.5pt;mso-bidi-font-size:11.0pt'>()</span></span><span
lang=EN-US style='color:black'>);</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=SpellE><span class=GramE><span lang=EN-US style='color:#6A3E3E'>ps</span><span
lang=EN-US style='color:black'>.println</span></span></span><span class=GramE><span
lang=EN-US style='color:black'>(</span></span><span lang=EN-US
style='color:#2A00FF'>&quot;Content-Length:&quot;</span><span lang=EN-US
style='color:black'> + </span><span class=SpellE><span lang=EN-US
style='color:#6A3E3E'>file</span><span lang=EN-US style='color:black'>.length</span></span><span
lang=EN-US style='color:black'>());</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>// </span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>空白行</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=SpellE><span class=GramE><span lang=EN-US style='color:#6A3E3E'>ps</span><span
lang=EN-US style='color:black'>.println</span></span></span><span class=GramE><span
lang=EN-US style='color:black'>(</span></span><span lang=EN-US
style='color:black'>);</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>// </span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>响应实体</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>// B,,,,,</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>响应网页文件</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>BufferedInputStream</span> </span><span class=SpellE><u><span
lang=EN-US style='color:#6A3E3E'>bis</span></u></span><span lang=EN-US
style='color:black'> = </span><b><span lang=EN-US style='color:#7F0055'>new</span></b><span
lang=EN-US style='color:black'> <span class=SpellE><span class=GramE>BufferedInputStream</span></span><span
class=GramE>(</span></span><b><span lang=EN-US style='color:#7F0055'>new</span></b><span
lang=EN-US style='color:black'> <span class=SpellE>FileInputStream</span>(</span><span
lang=EN-US style='color:#6A3E3E'>file</span><span lang=EN-US style='color:black'>));</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=GramE><b><span lang=EN-US style='color:#7F0055'>byte</span></b><span
lang=EN-US style='color:black'>[</span></span><span lang=EN-US
style='color:black'>] </span><span lang=EN-US style='color:#6A3E3E'>b</span><span
lang=EN-US style='color:black'> = </span><b><span lang=EN-US style='color:#7F0055'>new</span></b><span
lang=EN-US style='color:black'> </span><b><span lang=EN-US style='color:#7F0055'>byte</span></b><span
lang=EN-US style='color:black'>[(</span><span class=SpellE><b><span lang=EN-US
style='color:#7F0055'>int</span></b></span><span lang=EN-US style='color:black'>)
</span><span class=SpellE><span lang=EN-US style='color:#6A3E3E'>file</span><span
lang=EN-US style='color:black'>.length</span></span><span lang=EN-US
style='color:black'>()];</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=SpellE><span lang=EN-US style='color:#6A3E3E'>bis</span><span lang=EN-US
style='color:black'>.read</span></span><span lang=EN-US style='color:black'>(</span><span
lang=EN-US style='color:#6A3E3E'>b</span><span lang=EN-US style='color:black'>);</span><span
lang=EN-US>// </span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>把文件读到数组里</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=SpellE><span lang=EN-US style='color:#6A3E3E'>ps</span><span lang=EN-US
style='color:black'>.write</span></span><span lang=EN-US style='color:black'>(</span><span
lang=EN-US style='color:#6A3E3E'>b</span><span lang=EN-US style='color:black'>);</span><span
lang=EN-US>// </span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>把文件写出去</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=SpellE><span class=GramE><span lang=EN-US style='color:#0000C0'>socket</span><span
lang=EN-US style='color:black'>.close</span></span></span><span class=GramE><span
lang=EN-US style='color:black'>(</span></span><span lang=EN-US
style='color:black'>);</span></p>

<p class=a0><span lang=EN-US>//<span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>} </span><b><span
lang=EN-US style='color:#7F0055'>catch</span></b><span lang=EN-US
style='color:black'> (<span class=SpellE>IOException</span> </span><span
lang=EN-US style='color:#6A3E3E'>e</span><span lang=EN-US style='color:black'>)
{</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=SpellE><span class=GramE><span lang=EN-US style='color:#6A3E3E'>e</span><span
lang=EN-US style='color:black'>.printStackTrace</span></span></span><span
class=GramE><span lang=EN-US style='color:black'>(</span></span><span
lang=EN-US style='color:black'>);</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span>}</span></p>

</div>

<p class=MsoNormal style='text-indent:24.0pt'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<h2 style='margin-left:0cm;text-indent:0cm;mso-list:l0 level2 lfo1'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Consolas;mso-bidi-font-family:Consolas'><span
style='mso-list:Ignore'>2.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>创建</span><span
class=SpellE><span lang=EN-US>HttpResponse</span></span><span style='font-family:
"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>类</span></h2>

<p class=MsoNormal style='text-indent:24.0pt'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>问题是</span><span
lang=EN-US>run</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>方法里，代码太多，把</span><span lang=EN-US>run</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>方法里的响应代码提取出来，封装在响应类里。</span></p>

<h3 style='text-indent:0cm;mso-list:l0 level3 lfo1'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Consolas;mso-bidi-font-family:Consolas'><span
style='mso-list:Ignore'>2.2.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>声明响应的属性</span><span
lang=EN-US> setter<span style='mso-spacerun:yes'>&nbsp; </span>getter</span></h3>

<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
padding:12.0pt 12.0pt 12.0pt 12.0pt;background:#D9D9D9;mso-background-themecolor:
background1;mso-background-themeshade:217'>

<p class=a><span class=GramE><b><span lang=EN-US style='color:#7F0055'>package</span></b></span><span
lang=EN-US> <span class=SpellE>cn.tedu.http</span>;</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span class=GramE><b><span lang=EN-US style='color:#7F0055'>import</span></b></span><span
lang=EN-US> <span class=SpellE><u>java.io.OutputStream</u></span>;</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US style='color:#3F5FBF'>/**</span></p>

<p class=a><span lang=EN-US style='color:#3F5FBF'><span
style='mso-spacerun:yes'>&nbsp;</span>* </span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;color:#3F5FBF'>这个类用来封装响应信息</span></p>

<p class=a><span lang=EN-US style='color:#3F5FBF'>2.2.1<span style='mso-tab-count:
1'> </span></span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas;color:#3F5FBF'>声明响应的属性</span><span
lang=EN-US style='color:#3F5FBF'> setter<span style='mso-spacerun:yes'>&nbsp;
</span>getter</span></p>

<p class=a><span lang=EN-US style='color:#3F5FBF'>2.2.2<span style='mso-tab-count:
1'> </span></span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas;color:#3F5FBF'>在构造函数中传入</span><span
class=SpellE><span lang=EN-US style='color:#3F5FBF'>OutputStream</span></span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas;color:#3F5FBF'>，并保存在类中</span></p>

<p class=a><span lang=EN-US style='color:#3F5FBF'>2.2.3<span style='mso-tab-count:
1'> </span></span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas;color:#3F5FBF'>改造</span><span
class=SpellE><span lang=EN-US style='color:#3F5FBF'>getOutputStream</span></span></p>

<p class=a><span lang=EN-US style='color:#3F5FBF'>2.2.4<span style='mso-tab-count:
1'> </span></span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas;color:#3F5FBF'>改造</span><span
lang=EN-US style='color:#3F5FBF'>run</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;color:#3F5FBF'>方法</span></p>

<p class=a><span lang=EN-US style='color:#3F5FBF'>HTTP/1.1 200 OK</span></p>

<p class=a><span class=SpellE><span lang=EN-US style='color:#3F5FBF'>Content</span><span
lang=EN-US style='color:#7F7F9F'>-</span><span lang=EN-US style='color:#3F5FBF'>Type<span
class=GramE>:text</span></span></span><span lang=EN-US style='color:#3F5FBF'>/<u>html</u></span></p>

<p class=a><span lang=EN-US style='color:#3F5FBF'>Content</span><span
lang=EN-US style='color:#7F7F9F'>-</span><span lang=EN-US style='color:#3F5FBF'>Length<span
class=GramE>:129</span></span></p>

<p class=a><span lang=EN-US style='color:#3F5FBF'><span
style='mso-spacerun:yes'>&nbsp;</span>*/</span></p>

<p class=a><span class=GramE><b><span lang=EN-US style='color:#7F0055'>public</span></b></span><span
lang=EN-US> <b><span style='color:#7F0055'>class</span></b> <span class=SpellE>HttpResponse</span>
{</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
style='color:#3F7F5F'>//</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;color:#3F7F5F'>遵循的协议名和版本号</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>private</span></b></span> String <span
style='color:#0000C0'>protocol</span>;</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
style='color:#3F7F5F'>//</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;color:#3F7F5F'>状态码</span><span
lang=EN-US style='color:#3F7F5F'><span style='mso-spacerun:yes'>&nbsp;
</span>200 404 500 304<span style='mso-spacerun:yes'>&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>private</span></b></span> <span
class=SpellE><b><span style='color:#7F0055'>int</span></b></span> <span
style='color:#0000C0'>status</span>;</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
style='color:#3F7F5F'>//</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;color:#3F7F5F'>响应头</span><span
class=SpellE><span lang=EN-US style='color:#3F7F5F'>contentType</span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>private</span></b></span> String <span
class=SpellE><span style='color:#0000C0'>contentType</span></span>;</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
style='color:#3F7F5F'>//</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;color:#3F7F5F'>响应头</span><span
class=SpellE><span lang=EN-US style='color:#3F7F5F'>contentLength</span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>private</span></b></span> <span
class=SpellE><b><span style='color:#7F0055'>int</span></b></span> <span
class=SpellE><span style='color:#0000C0'>contentLength</span></span>;</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>public</span></b></span> String <span
class=SpellE>getProtocol</span>() {</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>return</span></b></span> <span
style='color:#0000C0'>protocol</span>;</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>public</span></b></span> <b><span
style='color:#7F0055'>void</span></b> <span class=SpellE>setProtocol</span>(String
<span style='color:#6A3E3E'>protocol</span>) {</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><b><span style='color:#7F0055'>this</span></b>.<span
style='color:#0000C0'>protocol</span></span> = <span style='color:#6A3E3E'>protocol</span>;</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>public</span></b></span> <span
class=SpellE><b><span style='color:#7F0055'>int</span></b></span> <span
class=SpellE>getStatus</span>() {</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>return</span></b></span> <span
style='color:#0000C0'>status</span>;</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>public</span></b></span> <b><span
style='color:#7F0055'>void</span></b> <span class=SpellE>setStatus</span>(<span
class=SpellE><b><span style='color:#7F0055'>int</span></b></span> <span
style='color:#6A3E3E'>status</span>) {</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><b><span style='color:#7F0055'>this</span></b>.<span
style='color:#0000C0'>status</span></span> = <span style='color:#6A3E3E'>status</span>;</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>public</span></b></span> String <span
class=SpellE>getContentType</span>() {</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>return</span></b></span> <span
class=SpellE><span style='color:#0000C0'>contentType</span></span>;</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>public</span></b></span> <b><span
style='color:#7F0055'>void</span></b> <span class=SpellE>setContentType</span>(String
<span class=SpellE><span style='color:#6A3E3E'>contentType</span></span>) {</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><b><span style='color:#7F0055'>this</span></b>.<span
style='color:#0000C0'>contentType</span></span> = <span class=SpellE><span
style='color:#6A3E3E'>contentType</span></span>;</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>public</span></b></span> <span
class=SpellE><b><span style='color:#7F0055'>int</span></b></span> <span
class=SpellE>getContentLength</span>() {</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>return</span></b></span> <span
class=SpellE><span style='color:#0000C0'>contentLength</span></span>;</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>public</span></b></span> <b><span
style='color:#7F0055'>void</span></b> <span class=SpellE>setContentLength</span>(<span
class=SpellE><b><span style='color:#7F0055'>int</span></b></span> <span
class=SpellE><span style='color:#6A3E3E'>contentLength</span></span>) {</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><b><span style='color:#7F0055'>this</span></b>.<span
style='color:#0000C0'>contentLength</span></span> = <span class=SpellE><span
style='color:#6A3E3E'>contentLength</span></span>;</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US>}</span></p>

</div>

<p class=MsoNormal style='text-indent:24.0pt'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<h3 style='text-indent:0cm;mso-list:l0 level3 lfo1'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Consolas;mso-bidi-font-family:Consolas'><span
style='mso-list:Ignore'>2.2.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>在构造函数中传入</span><span
class=SpellE><span lang=EN-US>OutputStream</span></span><span style='font-family:
"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>，并保存在类中</span></h3>

<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
padding:12.0pt 12.0pt 12.0pt 12.0pt;background:#D9D9D9;mso-background-themecolor:
background1;mso-background-themeshade:217'>

<p class=a><span lang=EN-US>//2,</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>在构造函数中传入</span><span
class=SpellE><span lang=EN-US>OutputStream</span></span><span style='font-family:
"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>，</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span></span><span lang=EN-US>//</span><span style='font-family:
"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>并保存在类中</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span></span><span class=GramE><b><span lang=EN-US
style='color:#7F0055'>private</span></b></span><span lang=EN-US
style='color:black'> <span class=SpellE>OutputStream</span> </span><span
class=SpellE><span lang=EN-US style='color:#0000C0'>outputStream</span></span><span
lang=EN-US style='color:black'>;</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span></span><span class=GramE><b><span lang=EN-US
style='color:#7F0055'>public</span></b></span><span lang=EN-US
style='color:black'> <span class=SpellE>HttpResponse</span>(</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=SpellE>OutputStream</span>
</span><span class=SpellE><span lang=EN-US style='color:#6A3E3E'>outputStream</span></span><span
class=GramE><span lang=EN-US style='color:black'>){</span></span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span class=SpellE><b><span
lang=EN-US style='color:#7F0055'>this</span></b><span lang=EN-US
style='color:black'>.</span><span lang=EN-US style='color:#0000C0'>outputStream</span></span><span
lang=EN-US style='color:black'>=</span><span class=SpellE><span lang=EN-US
style='color:#6A3E3E'>outputStream</span></span><span lang=EN-US
style='color:black'>;</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span></span><span lang=EN-US>//getter setter</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span></span><span class=GramE><b><span lang=EN-US
style='color:#7F0055'>public</span></b></span><span lang=EN-US
style='color:black'> <span class=SpellE>OutputStream</span> <span class=SpellE>getOutputStream</span>()
{</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span class=GramE><b><span
lang=EN-US style='color:#7F0055'>return</span></b></span><span lang=EN-US
style='color:black'> </span><span class=SpellE><span lang=EN-US
style='color:#0000C0'>outputStream</span></span><span lang=EN-US
style='color:black'>;</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span></span><span class=GramE><b><span lang=EN-US
style='color:#7F0055'>public</span></b></span><span lang=EN-US
style='color:black'> </span><b><span lang=EN-US style='color:#7F0055'>void</span></b><span
lang=EN-US style='color:black'> <span class=SpellE>setOutputStream</span>(<span
class=SpellE>OutputStream</span> </span><span class=SpellE><span lang=EN-US
style='color:#6A3E3E'>outputStream</span></span><span lang=EN-US
style='color:black'>) {</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span class=SpellE><b><span
lang=EN-US style='color:#7F0055'>this</span></b><span lang=EN-US
style='color:black'>.</span><span lang=EN-US style='color:#0000C0'>outputStream</span></span><span
lang=EN-US style='color:black'> = </span><span class=SpellE><span lang=EN-US
style='color:#6A3E3E'>outputStream</span></span><span lang=EN-US
style='color:black'>;</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span>}</span></p>

</div>

<h3 style='text-indent:0cm;mso-list:l0 level3 lfo1'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Consolas;mso-bidi-font-family:Consolas'><span
style='mso-list:Ignore'>2.2.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>改造</span><span
class=SpellE><span lang=EN-US>getOutputStream</span></span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>方法</span></h3>

<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
padding:12.0pt 12.0pt 12.0pt 12.0pt;background:#D9D9D9;mso-background-themecolor:
background1;mso-background-themeshade:217'>

<p class=a><span lang=EN-US>// getter setter</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span></span><span lang=EN-US>//3,</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>改造</span><span class=SpellE><span lang=EN-US>getOutputStream</span></span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span></span><span lang=EN-US>//</span><span style='font-family:
"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>提取拼接响应头的代码</span><span
lang=EN-US>,</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>保证响应头只被发送一次</span></p>

<p class=a0><span lang=EN-US style='color:black'><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span></span><b><span lang=EN-US>private</span></b><span
lang=EN-US style='color:black'> </span><span class=SpellE><b><span lang=EN-US>boolean</span></b></span><span
lang=EN-US style='color:black'> </span><span class=SpellE><span lang=EN-US
style='color:#0000C0'>isSend</span></span><span lang=EN-US style='color:black'>;</span><span
lang=EN-US>//</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>默认是</span><span lang=EN-US>false</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span></span><span class=GramE><b><span lang=EN-US
style='color:#7F0055'>public</span></b></span><span lang=EN-US
style='color:black'> <span class=SpellE>OutputStream</span> <span class=SpellE>getOutputStream</span>()
{</span></p>

<p class=a0><span lang=EN-US style='color:black'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span class=GramE><b><span
lang=EN-US style='color:#7F0055'>if</span></b><span lang=EN-US
style='color:black'>(</span></span><span lang=EN-US style='color:black'>!</span><span
class=SpellE><span lang=EN-US>isSend</span></span><span lang=EN-US
style='color:black'>){</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=SpellE>PrintStream</span>
</span><span class=SpellE><span lang=EN-US style='color:#6A3E3E'>ps</span></span><span
lang=EN-US style='color:black'> = </span><b><span lang=EN-US style='color:#7F0055'>new</span></b><span
lang=EN-US style='color:black'> <span class=SpellE><span class=GramE>PrintStream</span></span><span
class=GramE>(</span></span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=SpellE><span class=GramE><span lang=EN-US style='color:#0000C0'>outputStream</span></span></span><span
lang=EN-US style='color:black'>);</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>//</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>状态行</span><span lang=EN-US>&quot;HTTP/1.1
200 OK&quot;</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=SpellE><span class=GramE><span lang=EN-US style='color:#6A3E3E'>ps</span><span
lang=EN-US style='color:black'>.println</span></span></span><span class=GramE><span
lang=EN-US style='color:black'>(</span></span><span lang=EN-US
style='color:#0000C0'>protocol</span><span lang=EN-US style='color:black'>+</span><span
lang=EN-US style='color:#2A00FF'>&quot; &quot;</span><span lang=EN-US
style='color:black'>+</span><span lang=EN-US style='color:#0000C0'>status</span><span
lang=EN-US style='color:black'>+</span><span lang=EN-US style='color:#2A00FF'>&quot;
OK&quot;</span><span lang=EN-US style='color:black'>);</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>//</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>响应头</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=SpellE><span class=GramE><span lang=EN-US style='color:#6A3E3E'>ps</span><span
lang=EN-US style='color:black'>.println</span></span></span><span class=GramE><span
lang=EN-US style='color:black'>(</span></span><span lang=EN-US
style='color:#2A00FF'>&quot;Content-Type:&quot;</span><span lang=EN-US
style='color:black'>+</span><span class=SpellE><span lang=EN-US
style='color:#0000C0'>contentType</span></span><span lang=EN-US
style='color:black'>);</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=SpellE><span class=GramE><span lang=EN-US style='color:#6A3E3E'>ps</span><span
lang=EN-US style='color:black'>.println</span></span></span><span class=GramE><span
lang=EN-US style='color:black'>(</span></span><span lang=EN-US
style='color:#2A00FF'>&quot;Content-Length:&quot;</span><span lang=EN-US
style='color:black'>+</span><span class=SpellE><span lang=EN-US
style='color:#0000C0'>contentLength</span></span><span lang=EN-US
style='color:black'>);</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>//</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>空白行</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=SpellE><span class=GramE><span lang=EN-US style='color:#6A3E3E'>ps</span><span
lang=EN-US style='color:black'>.println</span></span></span><span class=GramE><span
lang=EN-US style='color:black'>(</span></span><span lang=EN-US
style='color:black'>);</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a0><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=SpellE><span class=GramE><span lang=EN-US>isSend</span></span></span><span
class=GramE><span lang=EN-US style='color:black'>=</span></span><b><span
lang=EN-US style='color:#7F0055'>true</span></b><span lang=EN-US
style='color:black'>;</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span class=GramE><b><span
lang=EN-US style='color:#7F0055'>return</span></b></span><span lang=EN-US
style='color:black'> </span><span class=SpellE><span lang=EN-US
style='color:#0000C0'>outputStream</span></span><span lang=EN-US
style='color:black'>;</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span>}</span></p>

</div>

<h3 style='text-indent:0cm;mso-list:l0 level3 lfo1'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Consolas;mso-bidi-font-family:Consolas'><span
style='mso-list:Ignore'>2.2.4<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>改造</span><span
lang=EN-US>run</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>方法</span></h3>

<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
padding:12.0pt 12.0pt 12.0pt 12.0pt;background:#D9D9D9;mso-background-themecolor:
background1;mso-background-themeshade:217'>

<p class=a><span lang=EN-US>// 4,</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>重写</span><span
lang=EN-US>run</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>方法，提取响应代码</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span></span><span lang=EN-US style='color:#646464'>@Override</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span></span><span class=GramE><b><span lang=EN-US
style='color:#7F0055'>public</span></b></span><span lang=EN-US
style='color:black'> </span><b><span lang=EN-US style='color:#7F0055'>void</span></b><span
lang=EN-US style='color:black'> run() {</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span class=GramE><b><span
lang=EN-US style='color:#7F0055'>try</span></b></span><span lang=EN-US
style='color:black'> {</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>// </span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>利用请求对象处理请求业务</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=SpellE>HttpRequest</span>
</span><span lang=EN-US style='color:#6A3E3E'>request</span><span lang=EN-US
style='color:black'> = </span><b><span lang=EN-US style='color:#7F0055'>new</span></b><span
lang=EN-US style='color:black'> <span class=SpellE><span class=GramE>HttpRequest</span></span><span
class=GramE>(</span></span><span class=SpellE><span lang=EN-US
style='color:#0000C0'>socket</span><span lang=EN-US style='color:black'>.getInputStream</span></span><span
lang=EN-US style='color:black'>());</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>// iii,,,,,</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>解析请求行的第二块数据</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>File </span><span
class=SpellE><span lang=EN-US style='color:#6A3E3E'>file</span></span><span
lang=EN-US style='color:black'> = </span><b><span lang=EN-US style='color:#7F0055'>new</span></b><span
lang=EN-US style='color:black'> <span class=GramE>File(</span></span><span
lang=EN-US style='color:#2A00FF'>&quot;<span class=SpellE>WebContent</span>&quot;</span><span
lang=EN-US style='color:black'> + </span><span class=SpellE><span lang=EN-US
style='color:#6A3E3E'>request</span><span lang=EN-US style='color:black'>.getUri</span></span><span
lang=EN-US style='color:black'>());</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a0><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>//</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>利用</span><span class=SpellE><span
lang=EN-US>httpResponse</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>完成响应头的拼接</span></p>

<p class=a0><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=SpellE>HttpResponse</span>
</span><span lang=EN-US style='color:#6A3E3E'>response</span><span lang=EN-US
style='color:black'> = </span></p>

<p class=a0><span lang=EN-US style='color:black'><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=GramE><b><span lang=EN-US style='color:#7F0055'>new</span></b></span><span
lang=EN-US style='color:black'> <span class=SpellE>HttpResponse</span>(</span></p>

<p class=a0><span lang=EN-US style='color:black'><span style='mso-tab-count:
5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=SpellE><span class=GramE><span lang=EN-US style='color:#0000C0'>socket</span><span
lang=EN-US style='color:black'>.getOutputStream</span></span></span><span
class=GramE><span lang=EN-US style='color:black'>(</span></span><span
lang=EN-US style='color:black'>));</span></p>

<p class=a0><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=SpellE><span lang=EN-US style='color:#6A3E3E'>response</span><span
lang=EN-US style='color:black'>.setProtocol</span></span><span lang=EN-US
style='color:black'>(</span><span lang=EN-US style='color:#2A00FF'>&quot;HTTP/1.1&quot;</span><span
lang=EN-US style='color:black'>);</span><span lang=EN-US>//</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>协议</span></p>

<p class=a0><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=SpellE><span lang=EN-US style='color:#6A3E3E'>response</span><span
lang=EN-US style='color:black'>.setStatus</span></span><span lang=EN-US
style='color:black'>(200);</span><span lang=EN-US>//</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>状态码</span></p>

<p class=a0><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=SpellE><span class=GramE><span lang=EN-US style='color:#6A3E3E'>response</span><span
lang=EN-US style='color:black'>.setContentType</span></span></span><span
class=GramE><span lang=EN-US style='color:black'>(</span></span><span
lang=EN-US style='color:#2A00FF'>&quot;text/html&quot;</span><span lang=EN-US
style='color:black'>);</span></p>

<p class=a0><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=SpellE><span class=GramE><span lang=EN-US style='color:#6A3E3E'>response</span><span
lang=EN-US style='color:black'>.setContentLength</span></span></span><span
class=GramE><span lang=EN-US style='color:black'>(</span></span><span
lang=EN-US style='color:black'>(</span><span class=SpellE><b><span lang=EN-US
style='color:#7F0055'>int</span></b></span><span lang=EN-US style='color:black'>)
</span><span class=SpellE><span lang=EN-US style='color:#6A3E3E'>file</span><span
lang=EN-US style='color:black'>.length</span></span><span lang=EN-US
style='color:black'>());</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>// </span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>响应实体</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>// B,,,,,</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>响应网页文件</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=SpellE>BufferedInputStream</span>
</span><span class=SpellE><u><span lang=EN-US style='color:#6A3E3E'>bis</span></u></span><span
lang=EN-US style='color:black'> = </span><b><span lang=EN-US style='color:#7F0055'>new</span></b><span
lang=EN-US style='color:black'> <span class=SpellE><span class=GramE>BufferedInputStream</span></span><span
class=GramE>(</span></span><b><span lang=EN-US style='color:#7F0055'>new</span></b><span
lang=EN-US style='color:black'> <span class=SpellE>FileInputStream</span>(</span><span
lang=EN-US style='color:#6A3E3E'>file</span><span lang=EN-US style='color:black'>));</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=GramE><b><span lang=EN-US style='color:#7F0055'>byte</span></b><span
lang=EN-US style='color:black'>[</span></span><span lang=EN-US
style='color:black'>] </span><span lang=EN-US style='color:#6A3E3E'>b</span><span
lang=EN-US style='color:black'> = </span><b><span lang=EN-US style='color:#7F0055'>new</span></b><span
lang=EN-US style='color:black'> </span><b><span lang=EN-US style='color:#7F0055'>byte</span></b><span
lang=EN-US style='color:black'>[(</span><span class=SpellE><b><span lang=EN-US
style='color:#7F0055'>int</span></b></span><span lang=EN-US style='color:black'>)
</span><span class=SpellE><span lang=EN-US style='color:#6A3E3E'>file</span><span
lang=EN-US style='color:black'>.length</span></span><span lang=EN-US
style='color:black'>()];</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=SpellE><span lang=EN-US style='color:#6A3E3E'>bis</span><span lang=EN-US
style='color:black'>.read</span></span><span lang=EN-US style='color:black'>(</span><span
lang=EN-US style='color:#6A3E3E'>b</span><span lang=EN-US style='color:black'>);</span><span
lang=EN-US>// </span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>把文件读到数组里</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=SpellE><span class=a3><span lang=EN-US style='font-size:12.5pt;
mso-bidi-font-size:11.0pt'>response.getOutputStream</span></span></span><span
class=a3><span lang=EN-US style='font-size:12.5pt;mso-bidi-font-size:11.0pt'>()</span></span><span
lang=EN-US style='color:black'>.write(</span><span lang=EN-US style='color:
#6A3E3E'>b</span><span lang=EN-US style='color:black'>);</span><span
lang=EN-US>// </span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>把文件写出去</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=SpellE><span class=GramE><span lang=EN-US style='color:#0000C0'>socket</span><span
lang=EN-US style='color:black'>.close</span></span></span><span class=GramE><span
lang=EN-US style='color:black'>(</span></span><span lang=EN-US
style='color:black'>);</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>} </span><b><span lang=EN-US
style='color:#7F0055'>catch</span></b><span lang=EN-US style='color:black'> (<span
class=SpellE>IOException</span> </span><span lang=EN-US style='color:#6A3E3E'>e</span><span
lang=EN-US style='color:black'>) {</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=SpellE><span class=GramE><span lang=EN-US style='color:#6A3E3E'>e</span><span
lang=EN-US style='color:black'>.printStackTrace</span></span></span><span
class=GramE><span lang=EN-US style='color:black'>(</span></span><span
lang=EN-US style='color:black'>);</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span>}</span></p>

</div>

<h2 style='margin-left:0cm;text-indent:0cm;mso-list:l0 level2 lfo1'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Consolas;mso-bidi-font-family:Consolas'><span
style='mso-list:Ignore'>2.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>封装</span><span
class=SpellE><span lang=EN-US>responsefile</span></span><span style='font-family:
"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>方法</span></h2>

<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
padding:12.0pt 12.0pt 12.0pt 12.0pt;background:#D9D9D9;mso-background-themecolor:
background1;mso-background-themeshade:217'>

<p class=a><span class=GramE><span lang=EN-US>package</span></span><span
lang=EN-US> <span class=SpellE>cn.tedu.core</span>;</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>java.io.BufferedInputStream</span>;</span></p>

<p class=a><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>java.io.BufferedReader</span>;</span></p>

<p class=a><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>java.io.File</span>;</span></p>

<p class=a><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>java.io.FileInputStream</span>;</span></p>

<p class=a><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>java.io.FileNotFoundException</span>;</span></p>

<p class=a><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>java.io.IOException</span>;</span></p>

<p class=a><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>java.io.InputStreamReader</span>;</span></p>

<p class=a><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>java.io.PrintStream</span>;</span></p>

<p class=a><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>java.net.Socket</span>;</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>cn.tedu.http.HttpRequest</span>;</span></p>

<p class=a><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>cn.tedu.http.HttpResponse</span>;</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US>/**</span></p>

<p class=a><span lang=EN-US><span style='mso-spacerun:yes'>&nbsp;</span>* </span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>这个类用来完成</span><span class=SpellE><span
lang=EN-US>WebServer</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>的抽取过程</span><span
lang=EN-US> 5.2.1 </span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>他是一个线程类</span><span
lang=EN-US> 5.2.2 </span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>声明</span><span
lang=EN-US>Socket</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>对象，代表客户端程序</span><span
lang=EN-US> 5.2.3</span></p>

<p class=a><span lang=EN-US><span style='mso-spacerun:yes'>&nbsp;</span>* </span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>在构造函数中传入</span><span lang=EN-US>socket</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>对象</span><span lang=EN-US> 5.2.4 </span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>重写</span><span lang=EN-US>run</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>方法，提取代码</span><span lang=EN-US> 5.2.5 </span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>测试</span></p>

<p class=a><span lang=EN-US><span style='mso-spacerun:yes'>&nbsp;</span>*/</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US>// 1,</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>他是一个线程类</span></p>

<p class=a><span class=GramE><span lang=EN-US>public</span></span><span
lang=EN-US> class <span class=SpellE>ClientHandler</span> implements Runnable {</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>//
2,</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>声明</span><span lang=EN-US>Socket</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>对象，代表客户端程序</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE>private</span> Socket <span class=SpellE>socket</span>;</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>//
3,</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>在构造函数中传入</span><span lang=EN-US>socket</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>对象</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE>public</span> <span class=SpellE>ClientHandler</span>(Socket
socket) {</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>this.socket</span> = socket;</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>//
4,</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>重写</span><span lang=EN-US>run</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>方法，提取响应代码</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>@Override</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE>public</span> void run() {</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>try</span> {</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//
</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>利用请求对象处理请求业务</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>HttpRequest</span> request = new <span class=SpellE><span
class=GramE>HttpRequest</span></span><span class=GramE>(</span><span
class=SpellE>socket.getInputStream</span>());</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//
iii,,,,,</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>解析请求行的第二块数据</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>File
<span class=SpellE>file</span> = new <span class=GramE>File(</span>&quot;<span
class=SpellE>WebContent</span>&quot; + <span class=SpellE>request.getUri</span>());</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>利用</span><span class=SpellE><span lang=EN-US>httpResponse</span></span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>完成响应头的拼接</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>HttpResponse</span> response = </span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>new</span> <span class=SpellE>HttpResponse</span>(</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>socket.getOutputStream</span></span><span
class=GramE>(</span>));</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>response.setProtocol</span>(&quot;HTTP/1.1&quot;);//</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>协议</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>response.setStatus</span>(200);//</span><span style='font-family:
"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>状态码</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>response.setContentType</span></span><span
class=GramE>(</span>&quot;text/html&quot;);</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>response.setContentLength</span></span><span
class=GramE>(</span>(<span class=SpellE>int</span>) <span class=SpellE>file.length</span>());</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a0><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>responseFile</span></span><span class=GramE>(</span>response,
file);</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}
catch (<span class=SpellE>IOException</span> e) {</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>e.printStackTrace</span></span><span
class=GramE>(</span>);</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a0><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>//</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>封装网页响应的方法</span></p>

<p class=a0><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE>public</span> void <span class=SpellE>responseFile</span>(</span></p>

<p class=a0><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>HttpResponse</span> response,</span></p>

<p class=a0><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>File
file<span class=GramE>){</span></span></p>

<p class=a0><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a0><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>try</span> {</span></p>

<p class=a0><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//
</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>响应实体</span></p>

<p class=a0><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//
B,,,,,</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>响应网页文件</span></p>

<p class=a0><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>BufferedInputStream</span> <span class=SpellE>bis</span> = new <span
class=SpellE><span class=GramE>BufferedInputStream</span></span><span
class=GramE>(</span>new <span class=SpellE>FileInputStream</span>(file));</span></p>

<p class=a0><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>byte[</span>] b = new byte[(<span class=SpellE>int</span>) <span
class=SpellE>file.length</span>()];</span></p>

<p class=a0><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>bis.read</span></span><span class=GramE>(</span>b);</span></p>

<p class=a0><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a0><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//
</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>把文件读到数组里</span></p>

<p class=a0><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>response.getOutputStream</span>().write(b);// </span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>把文件写出去</span></p>

<p class=a0><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>socket.close</span></span><span class=GramE>(</span>);</span></p>

<p class=a0><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}
catch (Exception e) {</span></p>

<p class=a0><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>e.printStackTrace</span></span><span
class=GramE>(</span>);</span></p>

<p class=a0><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}
</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US>}</span></p>

</div>

<p class=MsoNormal style='text-indent:24.0pt'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:24.0pt'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<h1 style='margin-left:0cm;text-indent:0cm;mso-list:l0 level1 lfo1'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Consolas;mso-bidi-font-family:Consolas'><span
style='mso-list:Ignore'>3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>代码实现</span><span
lang=EN-US>V3.0―</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>代码优化</span></h1>

<h2 style='margin-left:0cm;text-indent:0cm;mso-list:l0 level2 lfo1'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Consolas;mso-bidi-font-family:Consolas'><span
style='mso-list:Ignore'>3.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>提取服务器的配置参数</span></h2>

<h3 style='text-indent:0cm;mso-list:l0 level3 lfo1'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Consolas;mso-bidi-font-family:Consolas'><span
style='mso-list:Ignore'>3.1.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>创建</span><span
class=SpellE><span lang=EN-US>config</span></span><span lang=EN-US>/web.xml</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>文件</span></h3>

<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
padding:12.0pt 12.0pt 12.0pt 12.0pt;background:#D9D9D9;mso-background-themecolor:
background1;mso-background-themeshade:217'>

<p class=a><span class=GramE><span lang=EN-US style='color:teal'>&lt;?</span><span
lang=EN-US style='color:#3F7F7F'>xml</span></span><span lang=EN-US> version<span
style='color:black'>=</span><i><span style='color:#2A00FF'>&quot;1.0&quot;</span></i>
encoding<span style='color:black'>=</span><i><span style='color:#2A00FF'>&quot;UTF-8&quot;</span></i><span
style='color:teal'>?&gt;</span></span></p>

<p class=a><span lang=EN-US style='color:teal'>&lt;</span><span class=GramE><span
lang=EN-US style='color:#3F7F7F'>server</span></span><span lang=EN-US
style='color:teal'>&gt;</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span></span><span lang=EN-US style='color:teal'>&lt;</span><span
class=GramE><span lang=EN-US style='color:#3F7F7F'>service</span></span><span
lang=EN-US style='color:teal'>&gt;</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span lang=EN-US
style='color:teal'>&lt;</span><span lang=EN-US style='color:#3F7F7F;background:
lightgrey;mso-highlight:lightgrey'>connector</span><span lang=EN-US> port<span
style='color:black'>=</span><i><span style='color:#2A00FF'>&quot;8080&quot;</span></i>
<span class=SpellE>maxSize</span><span style='color:black'>=</span><i><span
style='color:#2A00FF'>&quot;100&quot;</span></i> </span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>protocol</span><span style='color:black'>=</span><i><span
style='color:#2A00FF'>&quot;HTTP/1.1&quot;</span></i><span style='color:teal'>&gt;</span></span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span lang=EN-US
style='color:teal'>&lt;/</span><span lang=EN-US style='color:#3F7F7F;
background:lightgrey;mso-highlight:lightgrey'>connector</span><span lang=EN-US
style='color:teal'>&gt;</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span lang=EN-US
style='color:teal'>&lt;</span><span class=SpellE><span class=GramE><span
lang=EN-US style='color:#3F7F7F'>webroot</span></span></span><span class=GramE><span
lang=EN-US style='color:teal'>&gt;</span></span><span class=SpellE><span
lang=EN-US style='color:black'>WebContent</span></span><span lang=EN-US
style='color:teal'>&lt;/</span><span class=SpellE><span lang=EN-US
style='color:#3F7F7F'>webroot</span></span><span lang=EN-US style='color:teal'>&gt;</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span></span><span lang=EN-US style='color:teal'>&lt;/</span><span
lang=EN-US style='color:#3F7F7F'>service</span><span lang=EN-US
style='color:teal'>&gt;</span></p>

<p class=a><span lang=EN-US style='color:teal'>&lt;/</span><span lang=EN-US
style='color:#3F7F7F'>server</span><span lang=EN-US style='color:teal'>&gt;</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

</div>

<p class=MsoNormal style='text-indent:24.0pt'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:24.0pt'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<h3 style='margin-left:0cm;text-indent:0cm;mso-list:l0 level3 lfo1'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Consolas;mso-bidi-font-family:Consolas'><span
style='mso-list:Ignore'>3.1.2<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas;font-weight:normal'>创建</span><span class=SpellE><span
lang=EN-US style='font-weight:normal'>Ser</span><span lang=EN-US>verContext</span></span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>类，读取</span><span lang=EN-US>xml</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>中的数据</span></h3>

<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
padding:12.0pt 12.0pt 12.0pt 12.0pt;background:#D9D9D9;mso-background-themecolor:
background1;mso-background-themeshade:217'>

<p class=a><span class=GramE><b><span lang=EN-US style='color:#7F0055'>package</span></b></span><span
lang=EN-US> <span class=SpellE>cn.tedu.context</span>;</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span class=GramE><b><span lang=EN-US style='color:#7F0055'>import</span></b></span><span
lang=EN-US> org.dom4j.Document;</span></p>

<p class=a><span class=GramE><b><span lang=EN-US style='color:#7F0055'>import</span></b></span><span
lang=EN-US> org.dom4j.DocumentException;</span></p>

<p class=a><span class=GramE><b><span lang=EN-US style='color:#7F0055'>import</span></b></span><span
lang=EN-US> org.dom4j.Element;</span></p>

<p class=a><span class=GramE><b><span lang=EN-US style='color:#7F0055'>import</span></b></span><span
lang=EN-US> org.dom4j.io.SAXReader;</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US style='color:#3F5FBF'>/**</span></p>

<p class=a><span lang=EN-US style='color:#3F5FBF'><span
style='mso-spacerun:yes'>&nbsp;</span>* </span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;color:#3F5FBF'>这个类用来封装服务器端的参数信息</span></p>

<p class=a><span lang=EN-US style='color:#3F5FBF'>1</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas;color:#3F5FBF'>，声明</span><span lang=EN-US
style='color:#3F5FBF'>4</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;color:#3F5FBF'>个参数</span></p>

<p class=a><span lang=EN-US style='color:#3F5FBF'>2</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas;color:#3F5FBF'>，在静态代码块中初始化参数</span></p>

<p class=a><span lang=EN-US style='color:#3F5FBF'><span
style='mso-spacerun:yes'>&nbsp;</span>*/</span></p>

<p class=a><span class=GramE><b><span lang=EN-US style='color:#7F0055'>public</span></b></span><span
lang=EN-US> <b><span style='color:#7F0055'>class</span></b> <span class=SpellE>ServerContext</span>
{</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
style='color:#3F7F5F'>//1</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;color:#3F7F5F'>，声明</span><span
lang=EN-US style='color:#3F7F5F'>4</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;color:#3F7F5F'>个参数</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>public</span></b></span> <b><span
style='color:#7F0055'>static</span></b> <span class=SpellE><b><span
style='color:#7F0055'>int</span></b></span> <i><span style='color:#0000C0'>port</span></i>;</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>public</span></b></span> <b><span
style='color:#7F0055'>static</span></b> <span class=SpellE><b><span
style='color:#7F0055'>int</span></b></span> <span class=SpellE><i><span
style='color:#0000C0'>maxSize</span></i></span>;</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>public</span></b></span> <b><span
style='color:#7F0055'>static</span></b> String <i><span style='color:#0000C0'>protocol</span></i>;</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>public</span></b></span> <b><span
style='color:#7F0055'>static</span></b> String <span class=SpellE><i><span
style='color:#0000C0'>webRoot</span></i></span>;</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
style='color:#3F7F5F'>//2</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;color:#3F7F5F'>，在静态代码块中初始化参数</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>static</span></b>{</span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE><i>init</i></span></span><span class=GramE>(</span>);</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
style='color:#3F7F5F'>//</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;color:#3F7F5F'>解析</span><u><span
lang=EN-US style='color:#3F7F5F'>xml</span></u><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;color:#3F7F5F'>文件</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
style='color:#3F7F5F'>//</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;color:#3F7F5F'>获取到属性的值，动态给服务器设置参数</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>private</span></b></span> <b><span
style='color:#7F0055'>static</span></b> <b><span style='color:#7F0055'>void</span></b>
<span class=SpellE>init</span>() {</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>try</span></b></span> {</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>SAXReader</span> <span style='color:#6A3E3E'>reader</span> = <b><span
style='color:#7F0055'>new</span></b> <span class=SpellE><span class=GramE>SAXReader</span></span><span
class=GramE>(</span>);</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='color:#3F7F5F'>//</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;color:#3F7F5F'>加载文件</span><span
lang=EN-US style='color:#3F7F5F'> dom4j.Document</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Document
<span style='color:#6A3E3E'>doc</span> = <span class=SpellE><span class=GramE><span
style='color:#6A3E3E'>reader</span>.read</span></span><span class=GramE>(</span><span
style='color:#2A00FF'>&quot;<span class=SpellE>config</span>/web.xml&quot;</span>);</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='color:#3F7F5F'>//</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;color:#3F7F5F'>获取根元素</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Element
<span style='color:#6A3E3E'>server</span> = <span class=SpellE><span
class=GramE><span style='color:#6A3E3E'>doc</span>.getRootElement</span></span><span
class=GramE>(</span>);</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Element
<span style='color:#6A3E3E'>service</span> = </span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE><span style='color:#6A3E3E'>server</span>.element</span></span><span
class=GramE>(</span><span style='color:#2A00FF'>&quot;service&quot;</span>);</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Element
<span style='color:#6A3E3E'>connector</span> = </span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE><span style='color:#6A3E3E'>service</span>.element</span></span><span
class=GramE>(</span><span style='color:#2A00FF'>&quot;connector&quot;</span>);</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE><i><span style='color:#0000C0'>port</span></i></span> = <span
class=SpellE>Integer.<i>valueOf</i></span>(</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE><span style='color:#6A3E3E'>connector</span>.attributeValue</span></span><span
class=GramE>(</span><span style='color:#2A00FF'>&quot;port&quot;</span>));</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE><i><span style='color:#0000C0'>maxSize</span></i></span></span>
= <span class=SpellE>Integer.<i>valueOf</i></span>(</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE><span style='color:#6A3E3E'>connector</span>.attributeValue</span></span><span
class=GramE>(</span><span style='color:#2A00FF'>&quot;<span class=SpellE>maxSize</span>&quot;</span>));</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE><i><span style='color:#0000C0'>protocol</span></i></span> = </span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE><span style='color:#6A3E3E'>connector</span>.attributeValue</span></span><span
class=GramE>(</span><span style='color:#2A00FF'>&quot;protocol&quot;</span>);</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE><i><span style='color:#0000C0'>webRoot</span></i></span></span>
= </span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE><span style='color:#6A3E3E'>service</span>.element</span></span><span
class=GramE>(</span><span style='color:#2A00FF'>&quot;<span class=SpellE>webroot</span>&quot;</span>).<span
class=SpellE>getText</span>();</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}
<b><span style='color:#7F0055'>catch</span></b> (<span class=SpellE>DocumentException</span>
<span style='color:#6A3E3E'>e</span>) {</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE><span style='color:#6A3E3E'>e</span>.printStackTrace</span></span><span
class=GramE>(</span>);</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US>}</span></p>

</div>

<p class=MsoNormal style='text-indent:24.0pt'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<h3 style='text-indent:0cm;mso-list:l0 level3 lfo1'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Consolas;mso-bidi-font-family:Consolas'><span
style='mso-list:Ignore'>3.1.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>改造</span><span
class=SpellE><span lang=EN-US>WebServer</span></span><span style='font-family:
"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>类</span></h3>

<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
padding:12.0pt 12.0pt 12.0pt 12.0pt;background:#D9D9D9;mso-background-themecolor:
background1;mso-background-themeshade:217'>

<p class=a><span class=GramE><span lang=EN-US>package</span></span><span
lang=EN-US> <span class=SpellE>cn.tedu.core</span>;</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>java.io.IOException</span>;</span></p>

<p class=a><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>java.net.ServerSocket</span>;</span></p>

<p class=a><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>java.net.Socket</span>;</span></p>

<p class=a><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>java.util.concurrent.ExecutorService</span>;</span></p>

<p class=a><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>java.util.concurrent.Executors</span>;</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>cn.tedu.context.ServerContext</span>;</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US>/**</span></p>

<p class=a><span lang=EN-US><span style='mso-spacerun:yes'>&nbsp;</span>* </span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>这个类用来代表服务器端的程序</span></p>

<p class=a><span lang=EN-US><span style='mso-spacerun:yes'>&nbsp;</span>* 1</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>，声明</span><span class=SpellE><span lang=EN-US>ServerSocket</span></span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>对象</span></p>

<p class=a><span lang=EN-US><span style='mso-spacerun:yes'>&nbsp;</span>* 2</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>，在构造函数中初始化</span><span class=SpellE><span
lang=EN-US>ServerSocket</span></span></p>

<p class=a><span lang=EN-US><span style='mso-spacerun:yes'>&nbsp;</span>* 3</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>，创建</span><span lang=EN-US>start</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>方法，用来接收客户端请求并响应</span></p>

<p class=a><span lang=EN-US><span style='mso-spacerun:yes'>&nbsp;</span>* 4</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>，创建</span><span lang=EN-US>main</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>方法，启动服务器</span></p>

<p class=a><span lang=EN-US><span style='mso-spacerun:yes'>&nbsp;</span>* 5</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>，测试</span></p>

<p class=a><span lang=EN-US><span style='mso-spacerun:yes'>&nbsp;</span>*/</span></p>

<p class=a><span class=GramE><span lang=EN-US>public</span></span><span
lang=EN-US> class <span class=SpellE>WebServer</span> {</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>//1</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>，声明</span><span class=SpellE><span lang=EN-US>ServerSocket</span></span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>对象</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE>private</span> <span class=SpellE>ServerSocket</span> server;</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>//a,,,,,</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>声明线程池对象</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE>private</span> <span class=SpellE>ExecutorService</span> <span
class=SpellE>threadPool</span>;</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>//2</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>，在构造函数中初始化</span><span class=SpellE><span
lang=EN-US>ServerSocket</span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE>public</span> <span class=SpellE>WebServer</span>(){</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>try</span> {</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>server</span> = new <span class=SpellE>ServerSocket</span>(</span><span
class=SpellE><span class=a3><span lang=EN-US style='font-size:12.5pt;
mso-bidi-font-size:11.0pt'>ServerContext.port</span></span></span><span
lang=EN-US>);</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//b,,,,</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>初始化线程池</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>threadPool</span></span> = </span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>Executors.newFixedThreadPool</span></span><span
class=GramE>(</span></span><span class=SpellE><span class=a3><span lang=EN-US
style='font-size:12.5pt;mso-bidi-font-size:11.0pt'>ServerContext.maxSize</span></span></span><span
lang=EN-US>);</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}
catch (<span class=SpellE>IOException</span> e) {</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>e.printStackTrace</span></span><span
class=GramE>(</span>);</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>//3</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>，创建</span><span lang=EN-US>start</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>方法，用来接收客户端请求并响应</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE>public</span> void start(){</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>try</span> {</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>while(</span>true){</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>接收客户端请求</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Socket
<span class=SpellE>socket</span> = <span class=SpellE><span class=GramE>server.accept</span></span><span
class=GramE>(</span>);</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//c,,,,</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>利用线程<span class=GramE>池执行</span>线程类</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>threadPool.execute</span></span><span
class=GramE>(</span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:6'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>new</span> <span class=SpellE>ClientHandler</span>(socket));</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}
catch (<span class=SpellE>IOException</span> e) {</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>e.printStackTrace</span></span><span
class=GramE>(</span>);</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>//4</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>，创建</span><span lang=EN-US>main</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>方法，启动服务器</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE>public</span> static void main(String[] <span class=SpellE>args</span>)
{</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>WebServer</span> server = new <span class=SpellE><span
class=GramE>WebServer</span></span><span class=GramE>(</span>);</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>server.start</span></span><span class=GramE>(</span>);</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US>}</span></p>

</div>

<p class=MsoNormal style='text-indent:24.0pt'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<h3 style='text-indent:0cm;mso-list:l0 level3 lfo1'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Consolas;mso-bidi-font-family:Consolas'><span
style='mso-list:Ignore'>3.1.4<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>改造</span><span
class=SpellE><span lang=EN-US>ClientHandler</span></span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>类</span></h3>

<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
padding:12.0pt 12.0pt 12.0pt 12.0pt;background:#D9D9D9;mso-background-themecolor:
background1;mso-background-themeshade:217'>

<p class=a><span class=GramE><span lang=EN-US>package</span></span><span
lang=EN-US> <span class=SpellE>cn.tedu.core</span>;</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>java.io.BufferedInputStream</span>;</span></p>

<p class=a><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>java.io.BufferedReader</span>;</span></p>

<p class=a><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>java.io.File</span>;</span></p>

<p class=a><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>java.io.FileInputStream</span>;</span></p>

<p class=a><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>java.io.FileNotFoundException</span>;</span></p>

<p class=a><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>java.io.IOException</span>;</span></p>

<p class=a><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>java.io.InputStreamReader</span>;</span></p>

<p class=a><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>java.io.PrintStream</span>;</span></p>

<p class=a><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>java.net.Socket</span>;</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>cn.tedu.context.ServerContext</span>;</span></p>

<p class=a><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>cn.tedu.http.HttpRequest</span>;</span></p>

<p class=a><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>cn.tedu.http.HttpResponse</span>;</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US>/**</span></p>

<p class=a><span lang=EN-US><span style='mso-spacerun:yes'>&nbsp;</span>* </span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>这个类用来完成</span><span class=SpellE><span
lang=EN-US>WebServer</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>的抽取过程</span><span
lang=EN-US> 5.2.1 </span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>他是一个线程类</span><span
lang=EN-US> 5.2.2 </span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>声明</span><span
lang=EN-US>Socket</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>对象，代表客户端程序</span><span
lang=EN-US> 5.2.3</span></p>

<p class=a><span lang=EN-US><span style='mso-spacerun:yes'>&nbsp;</span>* </span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>在构造函数中传入</span><span lang=EN-US>socket</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>对象</span><span lang=EN-US> 5.2.4 </span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>重写</span><span lang=EN-US>run</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>方法，提取代码</span><span lang=EN-US> 5.2.5 </span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>测试</span></p>

<p class=a><span lang=EN-US><span style='mso-spacerun:yes'>&nbsp;</span>*/</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US>// 1,</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>他是一个线程类</span></p>

<p class=a><span class=GramE><span lang=EN-US>public</span></span><span
lang=EN-US> class <span class=SpellE>ClientHandler</span> implements Runnable {</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>//
2,</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>声明</span><span lang=EN-US>Socket</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>对象，代表客户端程序</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE>private</span> Socket <span class=SpellE>socket</span>;</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>//
3,</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>在构造函数中传入</span><span lang=EN-US>socket</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>对象</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE>public</span> <span class=SpellE>ClientHandler</span>(Socket socket)
{</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>this.socket</span> = socket;</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>//
4,</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>重写</span><span lang=EN-US>run</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>方法，提取响应代码</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>@Override</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE>public</span> void run() {</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>try</span> {</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//
</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>利用请求对象处理请求业务</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>HttpRequest</span> request = new <span class=SpellE><span
class=GramE>HttpRequest</span></span><span class=GramE>(</span><span
class=SpellE>socket.getInputStream</span>());</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//
iii,,,,,</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>解析请求行的第二块数据</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>File
<span class=SpellE>file</span> = new <span class=GramE>File(</span></span><span
class=SpellE><span class=a3><span lang=EN-US style='font-size:12.5pt;
mso-bidi-font-size:11.0pt'>ServerContext.webRoot</span></span></span><span
lang=EN-US> + <span class=SpellE>request.getUri</span>());</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>利用</span><span class=SpellE><span lang=EN-US>httpResponse</span></span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>完成响应头的拼接</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>HttpResponse</span> response = </span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>new</span> <span class=SpellE>HttpResponse</span>(</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>socket.getOutputStream</span></span><span
class=GramE>(</span>));</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>response.setProtocol</span>(</span><span class=SpellE><span
class=a3><span lang=EN-US style='font-size:12.5pt;mso-bidi-font-size:11.0pt'>ServerContext.protocol</span></span></span><span
lang=EN-US>);//</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>协议</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>response.setStatus</span>(200);//</span><span style='font-family:
"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>状态码</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>response.setContentType</span></span><span
class=GramE>(</span>&quot;text/html&quot;);</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>response.setContentLength</span></span><span
class=GramE>(</span>(<span class=SpellE>int</span>) <span class=SpellE>file.length</span>());</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>responseFile</span></span><span class=GramE>(</span>response,
file);</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}
catch (<span class=SpellE>IOException</span> e) {</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>e.printStackTrace</span></span><span
class=GramE>(</span>);</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>//</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>封装网页响应的方法</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE>public</span> void <span class=SpellE>responseFile</span>(</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>HttpResponse</span> response,</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>File
file<span class=GramE>){</span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>try</span> {</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//
</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>响应实体</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//
B,,,,,</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>响应网页文件</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>BufferedInputStream</span> <span class=SpellE>bis</span> = new <span
class=SpellE><span class=GramE>BufferedInputStream</span></span><span
class=GramE>(</span>new <span class=SpellE>FileInputStream</span>(file));</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>byte[</span>] b = new byte[(<span class=SpellE>int</span>) <span
class=SpellE>file.length</span>()];</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>bis.read</span></span><span class=GramE>(</span>b);</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//
</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>把文件读到数组里</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>response.getOutputStream</span>().write(b);// </span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>把文件写出去</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>socket.close</span></span><span class=GramE>(</span>);</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}
catch (Exception e) {</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>e.printStackTrace</span></span><span
class=GramE>(</span>);</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}
</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US>}</span></p>

</div>

<h2 style='margin-left:0cm;text-indent:0cm;mso-list:l0 level2 lfo1'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Consolas;mso-bidi-font-family:Consolas'><span
style='mso-list:Ignore'>3.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>响应</span><span
lang=EN-US>404</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>页面</span></h2>

<h3 style='text-indent:0cm;mso-list:l0 level3 lfo1'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Consolas;mso-bidi-font-family:Consolas'><span
style='mso-list:Ignore'>3.2.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>改造</span><span
lang=EN-US>web.<span class=GramE>xml</span></span></h3>

<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
padding:12.0pt 12.0pt 12.0pt 12.0pt;background:#D9D9D9;mso-background-themecolor:
background1;mso-background-themeshade:217'>

<p class=a><span class=GramE><span lang=EN-US style='color:teal'>&lt;?</span><span
lang=EN-US style='color:#3F7F7F'>xml</span></span><span lang=EN-US> version<span
style='color:black'>=</span><i><span style='color:#2A00FF'>&quot;1.0&quot;</span></i>
encoding<span style='color:black'>=</span><i><span style='color:#2A00FF'>&quot;UTF-8&quot;</span></i><span
style='color:teal'>?&gt;</span></span></p>

<p class=a><span lang=EN-US style='color:teal'>&lt;</span><span class=GramE><span
lang=EN-US style='color:#3F7F7F'>server</span></span><span lang=EN-US
style='color:teal'>&gt;</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span></span><span lang=EN-US style='color:teal'>&lt;</span><span
class=GramE><span lang=EN-US style='color:#3F7F7F'>service</span></span><span
lang=EN-US style='color:teal'>&gt;</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span lang=EN-US
style='color:teal'>&lt;</span><span lang=EN-US style='color:#3F7F7F'>connector</span><span
lang=EN-US> port<span style='color:black'>=</span><i><span style='color:#2A00FF'>&quot;8080&quot;</span></i>
<span class=SpellE>maxSize</span><span style='color:black'>=</span><i><span
style='color:#2A00FF'>&quot;100&quot;</span></i> </span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>protocol</span><span style='color:black'>=</span><i><span
style='color:#2A00FF'>&quot;HTTP/1.1&quot;</span></i><span style='color:teal'>&gt;</span></span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span lang=EN-US
style='color:teal'>&lt;/</span><span lang=EN-US style='color:#3F7F7F'>connector</span><span
lang=EN-US style='color:teal'>&gt;</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span lang=EN-US
style='color:teal'>&lt;</span><span class=SpellE><span class=GramE><span
lang=EN-US style='color:#3F7F7F'>webroot</span></span></span><span class=GramE><span
lang=EN-US style='color:teal'>&gt;</span></span><span class=SpellE><span
lang=EN-US style='color:black'>WebContent</span></span><span lang=EN-US
style='color:teal'>&lt;/</span><span class=SpellE><span lang=EN-US
style='color:#3F7F7F'>webroot</span></span><span lang=EN-US style='color:teal'>&gt;</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a0><span lang=EN-US style='color:black'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span class=GramE><span
lang=EN-US>&lt;!--</span></span><span lang=EN-US> </span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>配置</span><span lang=EN-US>404</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>页面</span><span lang=EN-US> --&gt;</span></p>

<p class=a0><span lang=EN-US style='color:black'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span lang=EN-US
style='color:teal'>&lt;</span><span lang=EN-US style='color:#3F7F7F'>not-found-page</span><span
lang=EN-US style='color:teal'>&gt;</span><span lang=EN-US style='color:black'>404.<u>html</u></span><span
lang=EN-US style='color:teal'>&lt;/</span><span lang=EN-US style='color:#3F7F7F'>not-found-page</span><span
lang=EN-US style='color:teal'>&gt;</span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US style='color:black'><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span></span><span lang=EN-US style='color:teal'>&lt;/</span><span
lang=EN-US style='color:#3F7F7F'>service</span><span lang=EN-US
style='color:teal'>&gt;</span></p>

<p class=a><span lang=EN-US style='color:teal'>&lt;/</span><span lang=EN-US
style='color:#3F7F7F'>server</span><span lang=EN-US style='color:teal'>&gt;</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

</div>

<p class=MsoNormal style='text-indent:24.0pt'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<h3 style='text-indent:0cm;mso-list:l0 level3 lfo1'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Consolas;mso-bidi-font-family:Consolas'><span
style='mso-list:Ignore'>3.2.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>改造</span><span
class=SpellE><span lang=EN-US>ServerContext</span></span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>类，读取配置数据</span></h3>

<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
padding:12.0pt 12.0pt 12.0pt 12.0pt;background:#D9D9D9;mso-background-themecolor:
background1;mso-background-themeshade:217'>

<p class=a><span class=GramE><b><span lang=EN-US style='color:#7F0055'>package</span></b></span><span
lang=EN-US> <span class=SpellE>cn.tedu.context</span>;</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span class=GramE><b><span lang=EN-US style='color:#7F0055'>import</span></b></span><span
lang=EN-US> org.dom4j.Document;</span></p>

<p class=a><span class=GramE><b><span lang=EN-US style='color:#7F0055'>import</span></b></span><span
lang=EN-US> org.dom4j.DocumentException;</span></p>

<p class=a><span class=GramE><b><span lang=EN-US style='color:#7F0055'>import</span></b></span><span
lang=EN-US> org.dom4j.Element;</span></p>

<p class=a><span class=GramE><b><span lang=EN-US style='color:#7F0055'>import</span></b></span><span
lang=EN-US> org.dom4j.io.SAXReader;</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US style='color:#3F5FBF'>/**</span></p>

<p class=a><span lang=EN-US style='color:#3F5FBF'><span
style='mso-spacerun:yes'>&nbsp;</span>* </span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;color:#3F5FBF'>这个类用来封装服务器端的参数信息</span></p>

<p class=a><span lang=EN-US style='color:#3F5FBF'>1</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas;color:#3F5FBF'>，声明</span><span lang=EN-US
style='color:#3F5FBF'>4</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;color:#3F5FBF'>个参数</span></p>

<p class=a><span lang=EN-US style='color:#3F5FBF'>2</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas;color:#3F5FBF'>，在静态代码块中初始化参数</span></p>

<p class=a><span lang=EN-US style='color:#3F5FBF'><span
style='mso-spacerun:yes'>&nbsp;</span>*/</span></p>

<p class=a><span class=GramE><b><span lang=EN-US style='color:#7F0055'>public</span></b></span><span
lang=EN-US> <b><span style='color:#7F0055'>class</span></b> <span class=SpellE>ServerContext</span>
{</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
style='color:#3F7F5F'>//1</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;color:#3F7F5F'>，声明</span><span
lang=EN-US style='color:#3F7F5F'>4</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;color:#3F7F5F'>个参数</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>public</span></b></span> <b><span
style='color:#7F0055'>static</span></b> <span class=SpellE><b><span
style='color:#7F0055'>int</span></b></span> <i><span style='color:#0000C0'>port</span></i>;</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>public</span></b></span> <b><span
style='color:#7F0055'>static</span></b> <span class=SpellE><b><span
style='color:#7F0055'>int</span></b></span> <span class=SpellE><i><span
style='color:#0000C0'>maxSize</span></i></span>;</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>public</span></b></span> <b><span
style='color:#7F0055'>static</span></b> String <i><span style='color:#0000C0'>protocol</span></i>;</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>public</span></b></span> <b><span
style='color:#7F0055'>static</span></b> String <span class=SpellE><i><span
style='color:#0000C0'>webRoot</span></i></span>;</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a0><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>//a,,,,,,</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>声明</span><span lang=EN-US>404</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>变量</span></p>

<p class=a0><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>public</span></b></span> <b><span
style='color:#7F0055'>static</span></b> String <span class=SpellE><i><span
style='color:#0000C0'>notFoundPage</span></i></span>;</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
style='color:#3F7F5F'>//2</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;color:#3F7F5F'>，在静态代码块中初始化参数</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>static</span></b>{</span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE><i>init</i></span></span><span class=GramE>(</span>);</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
style='color:#3F7F5F'>//</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;color:#3F7F5F'>解析</span><u><span
lang=EN-US style='color:#3F7F5F'>xml</span></u><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;color:#3F7F5F'>文件</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
style='color:#3F7F5F'>//</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;color:#3F7F5F'>获取到属性的值，动态给服务器设置参数</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>private</span></b></span> <b><span
style='color:#7F0055'>static</span></b> <b><span style='color:#7F0055'>void</span></b>
<span class=SpellE>init</span>() {</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>try</span></b></span> {</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>SAXReader</span> <span style='color:#6A3E3E'>reader</span> = <b><span
style='color:#7F0055'>new</span></b> <span class=SpellE><span class=GramE>SAXReader</span></span><span
class=GramE>(</span>);</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='color:#3F7F5F'>//</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;color:#3F7F5F'>加载文件</span><span
lang=EN-US style='color:#3F7F5F'> dom4j.Document</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Document
<span style='color:#6A3E3E'>doc</span> = <span class=SpellE><span class=GramE><span
style='color:#6A3E3E'>reader</span>.read</span></span><span class=GramE>(</span><span
style='color:#2A00FF'>&quot;<span class=SpellE>config</span>/web.xml&quot;</span>);</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='color:#3F7F5F'>//</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;color:#3F7F5F'>获取根元素</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Element
<span style='color:#6A3E3E'>server</span> = <span class=SpellE><span
class=GramE><span style='color:#6A3E3E'>doc</span>.getRootElement</span></span><span
class=GramE>(</span>);</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Element
<span style='color:#6A3E3E'>service</span> = </span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE><span style='color:#6A3E3E'>server</span>.element</span></span><span
class=GramE>(</span><span style='color:#2A00FF'>&quot;service&quot;</span>);</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Element
<span style='color:#6A3E3E'>connector</span> = </span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE><span style='color:#6A3E3E'>service</span>.element</span></span><span
class=GramE>(</span><span style='color:#2A00FF'>&quot;connector&quot;</span>);</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE><i><span style='color:#0000C0'>port</span></i></span> = <span
class=SpellE>Integer.<i>valueOf</i></span>(</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE><span style='color:#6A3E3E'>connector</span>.attributeValue</span></span><span
class=GramE>(</span><span style='color:#2A00FF'>&quot;port&quot;</span>));</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE><i><span style='color:#0000C0'>maxSize</span></i></span></span>
= <span class=SpellE>Integer.<i>valueOf</i></span>(</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE><span style='color:#6A3E3E'>connector</span>.attributeValue</span></span><span
class=GramE>(</span><span style='color:#2A00FF'>&quot;<span class=SpellE>maxSize</span>&quot;</span>));</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE><i><span style='color:#0000C0'>protocol</span></i></span> = </span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE><span style='color:#6A3E3E'>connector</span>.attributeValue</span></span><span
class=GramE>(</span><span style='color:#2A00FF'>&quot;protocol&quot;</span>);</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE><i><span style='color:#0000C0'>webRoot</span></i></span></span>
= </span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE><span style='color:#6A3E3E'>service</span>.element</span></span><span
class=GramE>(</span><span style='color:#2A00FF'>&quot;<span class=SpellE>webroot</span>&quot;</span>).<span
class=SpellE>getText</span>();</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a0><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//b</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>，，，，，给</span><span class=SpellE><span
lang=EN-US>notFoundPage</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>变量进行赋值</span></p>

<p class=a0><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE><i><span style='color:#0000C0'>notFoundPage</span></i></span></span>
= </span></p>

<p class=a0><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE><span style='color:#6A3E3E'>service</span>.element</span></span><span
class=GramE>(</span><span style='color:#2A00FF'>&quot;not-found-page&quot;</span>).<span
class=SpellE>getText</span>();</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}
<b><span style='color:#7F0055'>catch</span></b> (<span class=SpellE>DocumentException</span>
<span style='color:#6A3E3E'>e</span>) {</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE><span style='color:#6A3E3E'>e</span>.printStackTrace</span></span><span
class=GramE>(</span>);</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US>}</span></p>

</div>

<p class=MsoNormal style='text-indent:24.0pt'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<h3 style='text-indent:0cm;mso-list:l0 level3 lfo1'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Consolas;mso-bidi-font-family:Consolas'><span
style='mso-list:Ignore'>3.2.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>改造</span><span
lang=EN-US>run</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>方法</span></h3>

<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
padding:12.0pt 12.0pt 12.0pt 12.0pt;background:#D9D9D9;mso-background-themecolor:
background1;mso-background-themeshade:217'>

<p class=a><span class=GramE><span lang=EN-US>package</span></span><span
lang=EN-US> <span class=SpellE>cn.tedu.core</span>;</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>java.io.BufferedInputStream</span>;</span></p>

<p class=a><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>java.io.BufferedReader</span>;</span></p>

<p class=a><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>java.io.File</span>;</span></p>

<p class=a><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>java.io.FileInputStream</span>;</span></p>

<p class=a><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>java.io.FileNotFoundException</span>;</span></p>

<p class=a><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>java.io.IOException</span>;</span></p>

<p class=a><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>java.io.InputStreamReader</span>;</span></p>

<p class=a><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>java.io.PrintStream</span>;</span></p>

<p class=a><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>java.net.Socket</span>;</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>cn.tedu.context.ServerContext</span>;</span></p>

<p class=a><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>cn.tedu.http.HttpRequest</span>;</span></p>

<p class=a><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>cn.tedu.http.HttpResponse</span>;</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US>/**</span></p>

<p class=a><span lang=EN-US><span style='mso-spacerun:yes'>&nbsp;</span>* </span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>这个类用来完成</span><span class=SpellE><span
lang=EN-US>WebServer</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>的抽取过程</span><span
lang=EN-US> 5.2.1 </span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>他是一个线程类</span><span
lang=EN-US> 5.2.2 </span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>声明</span><span
lang=EN-US>Socket</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>对象，代表客户端程序</span><span
lang=EN-US> 5.2.3</span></p>

<p class=a><span lang=EN-US><span style='mso-spacerun:yes'>&nbsp;</span>* </span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>在构造函数中传入</span><span lang=EN-US>socket</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>对象</span><span lang=EN-US> 5.2.4 </span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>重写</span><span lang=EN-US>run</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>方法，提取代码</span><span lang=EN-US> 5.2.5 </span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>测试</span></p>

<p class=a><span lang=EN-US><span style='mso-spacerun:yes'>&nbsp;</span>*/</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US>// 1,</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>他是一个线程类</span></p>

<p class=a><span class=GramE><span lang=EN-US>public</span></span><span
lang=EN-US> class <span class=SpellE>ClientHandler</span> implements Runnable {</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>//
2,</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>声明</span><span lang=EN-US>Socket</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>对象，代表客户端程序</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE>private</span> Socket <span class=SpellE>socket</span>;</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>//
3,</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>在构造函数中传入</span><span lang=EN-US>socket</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>对象</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE>public</span> <span class=SpellE>ClientHandler</span>(Socket
socket) {</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>this.socket</span> = socket;</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>//
4,</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>重写</span><span lang=EN-US>run</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>方法，提取响应代码</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>@Override</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE>public</span> void run() {</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>try</span> {</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//
</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>利用请求对象处理请求业务</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>HttpRequest</span> request = new <span class=SpellE><span
class=GramE>HttpRequest</span></span><span class=GramE>(</span><span
class=SpellE>socket.getInputStream</span>());</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//
iii,,,,,</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>解析请求行的第二块数据</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>File
<span class=SpellE>file</span> = new <span class=GramE>File(</span><span
class=SpellE>ServerContext.webRoot</span> + <span class=SpellE>request.getUri</span>());</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>HttpResponse</span> response = </span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>new</span> <span class=SpellE>HttpResponse</span>(</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>socket.getOutputStream</span></span><span
class=GramE>(</span>));</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a0><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>判断文件是否存在，</span></p>

<p class=a0><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>如果不存在跳转至</span><span lang=EN-US>404</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>页面</span></p>

<p class=a0><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>利用</span><span class=SpellE><span lang=EN-US>httpResponse</span></span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>完成响应头的拼接</span></p>

<p class=a0><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>if(</span>!<span class=SpellE>file.exists</span>()){</span></p>

<p class=a0><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>file=</span>new File(</span></p>

<p class=a0><span lang=EN-US><span style='mso-tab-count:5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>ServerContext.webRoot+ServerContext.notFoundPage</span>);</span></p>

<p class=a0><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>response.setStatus</span></span><span
class=GramE>(</span>404);</span></p>

<p class=a0><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>}else</span>{</span></p>

<p class=a0><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>response.setStatus</span>(200);//</span><span style='font-family:
"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>状态码</span></p>

<p class=a0><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>response.setProtocol</span>(<span class=SpellE>ServerContext.protocol</span>);//</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>协议</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>response.setContentType</span></span><span
class=GramE>(</span>&quot;text/html&quot;);</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>response.setContentLength</span></span><span
class=GramE>(</span>(<span class=SpellE>int</span>) <span class=SpellE>file.length</span>());</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>responseFile</span></span><span class=GramE>(</span>response,
file);</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}
catch (<span class=SpellE>IOException</span> e) {</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>e.printStackTrace</span></span><span
class=GramE>(</span>);</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>//</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>封装网页响应的方法</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE>public</span> void <span class=SpellE>responseFile</span>(</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>HttpResponse</span> response,</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>File
file<span class=GramE>){</span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>try</span> {</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//
</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>响应实体</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//
B,,,,,</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>响应网页文件</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>BufferedInputStream</span> <span class=SpellE>bis</span> = new <span
class=SpellE><span class=GramE>BufferedInputStream</span></span><span
class=GramE>(</span>new <span class=SpellE>FileInputStream</span>(file));</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>byte[</span>] b = new byte[(<span class=SpellE>int</span>) <span
class=SpellE>file.length</span>()];</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>bis.read</span></span><span class=GramE>(</span>b);</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//
</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>把文件读到数组里</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='mso-tab-count:1'>&nbsp;&nbsp; </span><span class=SpellE>response.getOutputStream</span>().write(b);//
</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>把文件写出去</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>socket.close</span></span><span class=GramE>(</span>);</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}
catch (Exception e) {</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>e.printStackTrace</span></span><span
class=GramE>(</span>);</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}
</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>}</span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span></span></p>

<p class=a><span lang=EN-US>}</span></p>

</div>

<h3 style='text-indent:0cm;mso-list:l0 level3 lfo1'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Consolas;mso-bidi-font-family:Consolas'><span
style='mso-list:Ignore'>3.2.4<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>创建</span><span
lang=EN-US>404.<span class=GramE>html</span></span></h3>

<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
padding:12.0pt 12.0pt 12.0pt 12.0pt;background:#D9D9D9;mso-background-themecolor:
background1;mso-background-themeshade:217'>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span class=GramE><span lang=EN-US>&lt;!<span
style='color:#3F7F7F'>DOCTYPE</span></span></span><span lang=EN-US> html&gt;<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US>&lt;<span class=GramE><span
style='color:#3F7F7F'>html</span></span>&gt;<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US>&lt;<span class=GramE><span
style='color:#3F7F7F'>head</span></span>&gt;<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US>&lt;<span class=GramE><span
style='color:#3F7F7F'>meta</span></span> <span style='color:#7F007F'>charset</span><span
style='color:black'>=</span><i><span style='color:#2A00FF'>&quot;UTF-8&quot;</span></i>&gt;<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US>&lt;<span class=GramE><span
style='color:#3F7F7F'>title</span>&gt;</span><span style='color:black'>404</span>&lt;/<span
style='color:#3F7F7F'>title</span>&gt;<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US>&lt;/<span style='color:#3F7F7F'>head</span>&gt;<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US>&lt;<span class=GramE><span
style='color:#3F7F7F'>body</span></span>&gt;<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US style='color:black'><span
style='mso-tab-count:1'>&nbsp;&nbsp; </span>404................<span
style='mso-tab-count:1'>&nbsp;&nbsp; </span></span><span lang=EN-US><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US>&lt;/<span style='color:#3F7F7F'>body</span>&gt;<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US>&lt;/<span style='color:#3F7F7F'>html</span>&gt;</span></p>

</div>

<h2 style='margin-left:0cm;text-indent:0cm;mso-list:l0 level2 lfo1'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Consolas;mso-bidi-font-family:Consolas'><span
style='mso-list:Ignore'>3.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>响应多类型网页文件</span></h2>

<h3 style='text-indent:0cm;mso-list:l0 level3 lfo1'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Consolas;mso-bidi-font-family:Consolas'><span
style='mso-list:Ignore'>3.3.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>改造</span><span
lang=EN-US>web.<span class=GramE>xml</span></span></h3>

<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
padding:12.0pt 12.0pt 12.0pt 12.0pt;background:#D9D9D9;mso-background-themecolor:
background1;mso-background-themeshade:217'>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span class=GramE><span lang=EN-US
style='color:teal'>&lt;?</span><span lang=EN-US style='color:#3F7F7F'>xml</span></span><span
lang=EN-US> version<span style='color:black'>=</span><i><span style='color:
#2A00FF'>&quot;1.0&quot;</span></i> encoding<span style='color:black'>=</span><i><span
style='color:#2A00FF'>&quot;UTF-8&quot;</span></i><span style='color:teal'>?&gt;</span><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US style='color:teal'>&lt;</span><span
class=GramE><span lang=EN-US style='color:#3F7F7F'>server</span></span><span
lang=EN-US style='color:teal'>&gt;</span><span lang=EN-US><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US style='color:black'><span
style='mso-tab-count:1'>&nbsp;&nbsp; </span></span><span lang=EN-US
style='color:teal'>&lt;</span><span class=GramE><span lang=EN-US
style='color:#3F7F7F'>service</span></span><span lang=EN-US style='color:teal'>&gt;</span><span
lang=EN-US><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US style='color:black'><span
style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='color:teal'>&lt;</span><span lang=EN-US style='color:#3F7F7F'>connector</span><span
lang=EN-US> port<span style='color:black'>=</span><i><span style='color:#2A00FF'>&quot;8080&quot;</span></i>
<span class=SpellE>maxSize</span><span style='color:black'>=</span><i><span
style='color:#2A00FF'>&quot;100&quot;</span></i> <o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>protocol</span><span style='color:black'>=</span><i><span
style='color:#2A00FF'>&quot;HTTP/1.1&quot;</span></i><span style='color:teal'>&gt;</span><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US style='color:black'><span
style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='color:teal'>&lt;/</span><span lang=EN-US style='color:#3F7F7F'>connector</span><span
lang=EN-US style='color:teal'>&gt;</span><span lang=EN-US><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US style='color:black'><span
style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='color:teal'>&lt;</span><span class=SpellE><span class=GramE><span
lang=EN-US style='color:#3F7F7F'>webroot</span></span></span><span class=GramE><span
lang=EN-US style='color:teal'>&gt;</span></span><span class=SpellE><span
lang=EN-US style='color:black'>WebContent</span></span><span lang=EN-US
style='color:teal'>&lt;/</span><span class=SpellE><span lang=EN-US
style='color:#3F7F7F'>webroot</span></span><span lang=EN-US style='color:teal'>&gt;</span><span
lang=EN-US><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US style='color:black'><span
style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US style='color:black'><span
style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
class=GramE><span lang=EN-US style='color:#3F5FBF'>&lt;!--</span></span><span
lang=EN-US style='color:#3F5FBF'> </span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;color:#3F5FBF'>配置</span><span
lang=EN-US style='color:#3F5FBF'>404</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;color:#3F5FBF'>页面</span><span
lang=EN-US style='color:#3F5FBF'> --&gt;</span><span lang=EN-US><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US style='color:black'><span
style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='color:teal'>&lt;</span><span lang=EN-US style='color:#3F7F7F'>not-found-page</span><span
lang=EN-US style='color:teal'>&gt;</span><span lang=EN-US style='color:black'>404.<u>html</u></span><span
lang=EN-US style='color:teal'>&lt;/</span><span lang=EN-US style='color:#3F7F7F'>not-found-page</span><span
lang=EN-US style='color:teal'>&gt;</span><span lang=EN-US><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US style='color:black'><span
style='mso-tab-count:1'>&nbsp;&nbsp; </span></span><span lang=EN-US
style='color:teal'>&lt;/</span><span lang=EN-US style='color:#3F7F7F'>service</span><span
lang=EN-US style='color:teal'>&gt;</span><span lang=EN-US><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US style='color:black'><span
style='mso-tab-count:1'>&nbsp;&nbsp; </span></span><span lang=EN-US><o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US style='color:black'><span
style='mso-tab-count:1'>&nbsp;&nbsp; </span></span><span class=GramE><span
lang=EN-US>&lt;!--</span></span><span lang=EN-US> </span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>动态显示</span><span class=SpellE><span lang=EN-US>ContentType</span></span><span
lang=EN-US><o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>获取</span><span class=SpellE><u><span
lang=EN-US>ext</span></u></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>的值，作为</span><span
lang=EN-US>map</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>的</span><span lang=EN-US>key<o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>获取</span><span lang=EN-US>type</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>的值，作为</span><span lang=EN-US>map</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>的</span><span lang=EN-US>value<o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>map&lt;</span><span class=SpellE>String,String</span>&gt;<o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
style='mso-spacerun:yes'>&nbsp;</span>--&gt;<o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US style='color:black'><span
style='mso-tab-count:1'>&nbsp;&nbsp; </span></span><span lang=EN-US
style='color:teal'>&lt;</span><span class=SpellE><span class=GramE><span
lang=EN-US style='color:#3F7F7F'>typemappings</span></span></span><span
lang=EN-US style='color:teal'>&gt;</span><span lang=EN-US><o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US style='color:black'><span
style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='color:teal'>&lt;</span><span class=SpellE><span lang=EN-US
style='color:#3F7F7F;background:silver;mso-highlight:silver'>typemapping</span></span><span
lang=EN-US> <span class=SpellE>ext</span><span style='color:black'>=</span><i><span
style='color:#2A00FF'>&quot;html&quot;</span></i> type<span style='color:black'>=</span><i><span
style='color:#2A00FF'>&quot;text/html&quot;</span></i><span style='color:teal'>&gt;&lt;/</span><span
class=SpellE><span style='color:#3F7F7F;background:silver;mso-highlight:silver'>typemapping</span></span><span
style='color:teal'>&gt;</span><o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US style='color:black'><span
style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='color:teal'>&lt;</span><span class=SpellE><span lang=EN-US
style='color:#3F7F7F'>typemapping</span></span><span lang=EN-US> <span
class=SpellE>ext</span><span style='color:black'>=</span><i><span
style='color:#2A00FF'>&quot;<span class=SpellE>png</span>&quot;</span></i> type<span
style='color:black'>=</span><i><span style='color:#2A00FF'>&quot;image/<span
class=SpellE>png</span>&quot;</span></i><span style='color:teal'>&gt;&lt;/</span><span
class=SpellE><span style='color:#3F7F7F'>typemapping</span></span><span
style='color:teal'>&gt;</span><o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US style='color:black'><span
style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='color:teal'>&lt;</span><span class=SpellE><span lang=EN-US
style='color:#3F7F7F'>typemapping</span></span><span lang=EN-US> <span
class=SpellE>ext</span><span style='color:black'>=</span><i><span
style='color:#2A00FF'>&quot;jpg&quot;</span></i> type<span style='color:black'>=</span><i><span
style='color:#2A00FF'>&quot;image/jpeg&quot;</span></i><span style='color:teal'>&gt;&lt;/</span><span
class=SpellE><span style='color:#3F7F7F'>typemapping</span></span><span
style='color:teal'>&gt;</span><o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US style='color:black'><span
style='mso-tab-count:1'>&nbsp;&nbsp; </span></span><span lang=EN-US
style='color:teal'>&lt;/</span><span class=SpellE><span lang=EN-US
style='color:#3F7F7F'>typemappings</span></span><span lang=EN-US
style='color:teal'>&gt;</span><span lang=EN-US><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US style='color:black'><span
style='mso-tab-count:1'>&nbsp;&nbsp; </span></span><span lang=EN-US><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US style='color:teal'>&lt;/</span><span
lang=EN-US style='color:#3F7F7F'>server</span><span lang=EN-US
style='color:teal'>&gt;</span><span lang=EN-US><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

</div>

<p class=MsoNormal style='text-indent:24.0pt'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:24.0pt'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:24.0pt'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<h3 style='text-indent:0cm;mso-list:l0 level3 lfo1'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Consolas;mso-bidi-font-family:Consolas'><span
style='mso-list:Ignore'>3.3.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>改造</span><span
class=SpellE><span lang=EN-US>ServerContext</span></span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>类，读取</span><span lang=EN-US>xml</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>的数据</span></h3>

<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
padding:12.0pt 12.0pt 12.0pt 12.0pt;background:#D9D9D9;mso-background-themecolor:
background1;mso-background-themeshade:217'>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span class=GramE><b><span lang=EN-US
style='color:#7F0055'>package</span></b></span><span lang=EN-US> <span
class=SpellE>cn.tedu.context</span>;<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span class=GramE><b><span lang=EN-US
style='color:#7F0055'>import</span></b></span><span lang=EN-US> <span
class=SpellE>java.util.HashMap</span>;<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span class=GramE><b><span lang=EN-US
style='color:#7F0055'>import</span></b></span><span lang=EN-US> <span
class=SpellE>java.util.List</span>;<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span class=GramE><b><span lang=EN-US
style='color:#7F0055'>import</span></b></span><span lang=EN-US> <span
class=SpellE>java.util.Map</span>;<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span class=GramE><b><span lang=EN-US
style='color:#7F0055'>import</span></b></span><span lang=EN-US>
org.dom4j.Document;<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span class=GramE><b><span lang=EN-US
style='color:#7F0055'>import</span></b></span><span lang=EN-US>
org.dom4j.DocumentException;<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span class=GramE><b><span lang=EN-US
style='color:#7F0055'>import</span></b></span><span lang=EN-US>
org.dom4j.Element;<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span class=GramE><b><span lang=EN-US
style='color:#7F0055'>import</span></b></span><span lang=EN-US>
org.dom4j.io.SAXReader;<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US style='color:#3F5FBF'>/**</span><span
lang=EN-US><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US style='color:#3F5FBF'><span
style='mso-spacerun:yes'>&nbsp;</span>* </span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;color:#3F5FBF'>这个类用来封装服务器端的参数信息</span><span
lang=EN-US><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US style='color:#3F5FBF'>1</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas;color:#3F5FBF'>，声明</span><span lang=EN-US
style='color:#3F5FBF'>4</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;color:#3F5FBF'>个参数</span><span
lang=EN-US><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US style='color:#3F5FBF'>2</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas;color:#3F5FBF'>，在静态代码块中初始化参数</span><span
lang=EN-US><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US style='color:#3F5FBF'><span
style='mso-spacerun:yes'>&nbsp;</span>*/</span><span lang=EN-US><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span class=GramE><b><span lang=EN-US
style='color:#7F0055'>public</span></b></span><span lang=EN-US> <b><span
style='color:#7F0055'>class</span></b> <span class=SpellE>ServerContext</span>
{<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span><span style='color:#3F7F5F'>//1</span></span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas;color:#3F7F5F'>，声明</span><span lang=EN-US
style='color:#3F7F5F'>4</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;color:#3F7F5F'>个参数</span><span
lang=EN-US><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span><span class=GramE><b><span style='color:#7F0055'>public</span></b></span>
<b><span style='color:#7F0055'>static</span></b> <span class=SpellE><b><span
style='color:#7F0055'>int</span></b></span> <i><span style='color:#0000C0'>port</span></i>;<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span><span class=GramE><b><span style='color:#7F0055'>public</span></b></span>
<b><span style='color:#7F0055'>static</span></b> <span class=SpellE><b><span
style='color:#7F0055'>int</span></b></span> <span class=SpellE><i><span
style='color:#0000C0'>maxSize</span></i></span>;<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span><span class=GramE><b><span style='color:#7F0055'>public</span></b></span>
<b><span style='color:#7F0055'>static</span></b> String <i><span
style='color:#0000C0'>protocol</span></i>;<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span><span class=GramE><b><span style='color:#7F0055'>public</span></b></span>
<b><span style='color:#7F0055'>static</span></b> String <span class=SpellE><i><span
style='color:#0000C0'>webRoot</span></i></span>;<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span><span style='color:#3F7F5F'>//a,,,,,,</span></span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas;color:#3F7F5F'>声明</span><span lang=EN-US
style='color:#3F7F5F'>404</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;color:#3F7F5F'>变量</span><span
lang=EN-US><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span><span class=GramE><b><span style='color:#7F0055'>public</span></b></span>
<b><span style='color:#7F0055'>static</span></b> String <span class=SpellE><i><span
style='color:#0000C0'>notFoundPage</span></i></span>;<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>//</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>存放</span><span class=SpellE><span lang=EN-US>contenttype</span></span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>的值</span><span lang=EN-US><o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>public</span></b></span> <b><span
style='color:#7F0055'>static</span></b> Map&lt;<span class=SpellE>String,String</span>&gt;
<i><span style='color:#0000C0'>map</span></i>=<o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>new</span></b></span> <span
class=SpellE>HashMap</span>&lt;<span class=SpellE>String,String</span>&gt;();<o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span><span style='color:#3F7F5F'>//2</span></span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas;color:#3F7F5F'>，在静态代码块中初始化参数</span><span
lang=EN-US><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span><span class=GramE><b><span style='color:#7F0055'>static</span></b>{</span><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=SpellE><span class=GramE><i>init</i></span></span><span
class=GramE>(</span>);<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span>}<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span><span style='color:#3F7F5F'>//</span></span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas;color:#3F7F5F'>解析</span><u><span lang=EN-US
style='color:#3F7F5F'>xml</span></u><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;color:#3F7F5F'>文件</span><span
lang=EN-US><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span><span style='color:#3F7F5F'>//</span></span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas;color:#3F7F5F'>获取到属性的值，动态给服务器设置参数</span><span
lang=EN-US><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span><span class=GramE><b><span style='color:#7F0055'>private</span></b></span>
<b><span style='color:#7F0055'>static</span></b> <b><span style='color:#7F0055'>void</span></b>
<span class=SpellE>init</span>() {<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=GramE><b><span
style='color:#7F0055'>try</span></b></span> {<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=SpellE>SAXReader</span>
<span style='color:#6A3E3E'>reader</span> = <b><span style='color:#7F0055'>new</span></b>
<span class=SpellE><span class=GramE>SAXReader</span></span><span class=GramE>(</span>);<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='color:#3F7F5F'>//</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;color:#3F7F5F'>加载文件</span><span
lang=EN-US style='color:#3F7F5F'> dom4j.Document</span><span lang=EN-US><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Document <span
style='color:#6A3E3E'>doc</span> = <span class=SpellE><span class=GramE><span
style='color:#6A3E3E'>reader</span>.read</span></span><span class=GramE>(</span><span
style='color:#2A00FF'>&quot;<span class=SpellE>config</span>/web.xml&quot;</span>);<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='color:#3F7F5F'>//</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;color:#3F7F5F'>获取根元素</span><span
lang=EN-US><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Element <span
style='color:#6A3E3E'>server</span> = <span class=SpellE><span class=GramE><span
style='color:#6A3E3E'>doc</span>.getRootElement</span></span><span class=GramE>(</span>);<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Element <span
style='color:#6A3E3E'>service</span> = <o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE><span style='color:#6A3E3E'>server</span>.element</span></span><span
class=GramE>(</span><span style='color:#2A00FF'>&quot;service&quot;</span>);<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Element <span
style='color:#6A3E3E'>connector</span> = <o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE><span style='color:#6A3E3E'>service</span>.element</span></span><span
class=GramE>(</span><span style='color:#2A00FF'>&quot;connector&quot;</span>);<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=GramE><i><span
style='color:#0000C0'>port</span></i></span> = <span class=SpellE>Integer.<i>valueOf</i></span>(<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE><span style='color:#6A3E3E'>connector</span>.attributeValue</span></span><span
class=GramE>(</span><span style='color:#2A00FF'>&quot;port&quot;</span>));<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=SpellE><span
class=GramE><i><span style='color:#0000C0'>maxSize</span></i></span></span> = <span
class=SpellE>Integer.<i>valueOf</i></span>(<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE><span style='color:#6A3E3E'>connector</span>.attributeValue</span></span><span
class=GramE>(</span><span style='color:#2A00FF'>&quot;<span class=SpellE>maxSize</span>&quot;</span>));<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=GramE><i><span
style='color:#0000C0'>protocol</span></i></span> = <o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE><span style='color:#6A3E3E'>connector</span>.attributeValue</span></span><span
class=GramE>(</span><span style='color:#2A00FF'>&quot;protocol&quot;</span>);<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=SpellE><span
class=GramE><i><span style='color:#0000C0'>webRoot</span></i></span></span> = <o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE><span style='color:#6A3E3E'>service</span>.element</span></span><span
class=GramE>(</span><span style='color:#2A00FF'>&quot;<span class=SpellE>webroot</span>&quot;</span>).<span
class=SpellE>getText</span>();<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style='color:#3F7F5F'>//b</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;color:#3F7F5F'>，，，，，给</span><span
class=SpellE><span lang=EN-US style='color:#3F7F5F'>notFoundPage</span></span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas;color:#3F7F5F'>变量进行赋值</span><span lang=EN-US><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=SpellE><span
class=GramE><i><span style='color:#0000C0'>notFoundPage</span></i></span></span>
= <o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE><span style='color:#6A3E3E'>service</span>.element</span></span><span
class=GramE>(</span><span style='color:#2A00FF'>&quot;not-found-page&quot;</span>).<span
class=SpellE>getText</span>();<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>解析</span><span class=SpellE><span lang=EN-US>typemappings</span></span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>的</span><span class=SpellE><span lang=EN-US>ext</span></span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>值和</span><span lang=EN-US>type</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>值</span><span lang=EN-US><o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>封装成</span><span lang=EN-US>map</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>结构</span><span lang=EN-US><o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>List&lt;Element&gt;
<span class=GramE><span style='color:#6A3E3E'>list</span><span
style='mso-spacerun:yes'>&nbsp; </span>=</span> <o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE><span style='color:#6A3E3E'>server</span>.element</span></span><span
class=GramE>(</span><span style='color:#2A00FF'>&quot;<span class=SpellE>typemappings</span>&quot;</span>).<o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>elements(</span>);<o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE><b><span style='color:#7F0055'>for</span></b></span> (Element <span
class=SpellE><span style='color:#6A3E3E'>element</span></span> : <span
style='color:#6A3E3E'>list</span>) {<o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>String
<span style='color:#6A3E3E'>key</span> = <o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:6'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE><span style='color:#6A3E3E'>element</span>.attributeValue</span></span><span
class=GramE>(</span><span style='color:#2A00FF'>&quot;<span class=SpellE>ext</span>&quot;</span>);<o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>String
<span style='color:#6A3E3E'>value</span> =<o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:6'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE><span style='color:#6A3E3E'>element</span>.attributeValue</span></span><span
class=GramE>(</span><span style='color:#2A00FF'>&quot;type&quot;</span>);<o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>把</span><span lang=EN-US>key</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>和</span><span lang=EN-US>value</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>存入</span><span lang=EN-US>map<o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//{<span
class=SpellE>html,text</span>/<span class=GramE>html<span
style='mso-spacerun:yes'>&nbsp; </span><span class=SpellE>png,image</span></span>/<span
class=SpellE>png</span><span style='mso-spacerun:yes'>&nbsp; </span><span
class=SpellE>jpg,image</span>/jpeg}<o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE><i><span style='color:#0000C0'>map</span></i>.put</span></span><span
class=GramE>(</span><span class=SpellE><span style='color:#6A3E3E'>key</span>,<span
style='color:#6A3E3E'>value</span></span>);<o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>} <b><span style='color:#7F0055'>catch</span></b>
(<span class=SpellE>DocumentException</span> <span style='color:#6A3E3E'>e</span>)
{<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=SpellE><span
class=GramE><span style='color:#6A3E3E'>e</span>.printStackTrace</span></span><span
class=GramE>(</span>);<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span>}<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US>}<o:p></o:p></span></p>

</div>

<p class=MsoNormal style='text-indent:24.0pt'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<h3 style='text-indent:0cm;mso-list:l0 level3 lfo1'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Consolas;mso-bidi-font-family:Consolas'><span
style='mso-list:Ignore'>3.3.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>改造</span><span
lang=EN-US>run</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>方法</span></h3>

<div style='mso-element:para-border-div;border:solid windowtext 1.0pt;
padding:12.0pt 12.0pt 12.0pt 12.0pt;background:#D9D9D9;mso-background-themecolor:
background1;mso-background-themeshade:217'>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span class=GramE><span lang=EN-US>package</span></span><span
lang=EN-US> <span class=SpellE>cn.tedu.core</span>;<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>java.io.BufferedInputStream</span>;<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>java.io.BufferedReader</span>;<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>java.io.File</span>;<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>java.io.FileInputStream</span>;<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>java.io.FileNotFoundException</span>;<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>java.io.IOException</span>;<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>java.io.InputStreamReader</span>;<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>java.io.PrintStream</span>;<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>java.net.Socket</span>;<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>cn.tedu.context.ServerContext</span>;<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>cn.tedu.http.HttpRequest</span>;<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span class=GramE><span lang=EN-US>import</span></span><span
lang=EN-US> <span class=SpellE>cn.tedu.http.HttpResponse</span>;<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US>/**<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span
style='mso-spacerun:yes'>&nbsp;</span>* </span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>这个类用来完成</span><span
class=SpellE><span lang=EN-US>WebServer</span></span><span style='font-family:
"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>的抽取过程</span><span
lang=EN-US> 5.2.1 </span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>他是一个线程类</span><span
lang=EN-US> 5.2.2 </span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>声明</span><span
lang=EN-US>Socket</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>对象，代表客户端程序</span><span
lang=EN-US> 5.2.3<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span
style='mso-spacerun:yes'>&nbsp;</span>* </span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>在构造函数中传入</span><span
lang=EN-US>socket</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>对象</span><span
lang=EN-US> 5.2.4 </span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>重写</span><span
lang=EN-US>run</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>方法，提取代码</span><span lang=EN-US> 5.2.5 </span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>测试</span><span lang=EN-US><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span
style='mso-spacerun:yes'>&nbsp;</span>*/<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US>// 1,</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>他是一个线程类</span><span lang=EN-US><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span class=GramE><span lang=EN-US>public</span></span><span
lang=EN-US> class <span class=SpellE>ClientHandler</span> implements Runnable {<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span>// 2,</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>声明</span><span
lang=EN-US>Socket</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>对象，代表客户端程序</span><span
lang=EN-US><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span><span class=GramE>private</span> Socket <span
class=SpellE>socket</span>;<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span>// 3,</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>在构造函数中传入</span><span
lang=EN-US>socket</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>对象</span><span
lang=EN-US><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span><span class=GramE>public</span> <span class=SpellE>ClientHandler</span>(Socket
socket) {<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=SpellE>this.socket</span>
= socket;<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span>}<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span>// 4,</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>重写</span><span
lang=EN-US>run</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>方法，提取响应代码</span><span lang=EN-US><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span>@Override<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span><span class=GramE>public</span> void run() {<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=GramE>try</span> {<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// </span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>利用请求对象处理请求业务</span><span lang=EN-US><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=SpellE>HttpRequest</span>
request = new <span class=SpellE><span class=GramE>HttpRequest</span></span><span
class=GramE>(</span><span class=SpellE>socket.getInputStream</span>());<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// iii,,,,,</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>解析请求行的第二块数据</span><span lang=EN-US><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>File <span
class=SpellE>file</span> = new <span class=GramE>File(</span><span
class=SpellE>ServerContext.webRoot</span> + <span class=SpellE>request.getUri</span>());<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=SpellE>HttpResponse</span>
response = <o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>new</span> <span class=SpellE>HttpResponse</span>(<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>socket.getOutputStream</span></span><span
class=GramE>(</span>));<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>判断文件是否存在，</span><span lang=EN-US><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>如果不存在跳转至</span><span lang=EN-US>404</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>页面</span><span lang=EN-US><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>利用</span><span class=SpellE><span lang=EN-US>httpResponse</span></span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>完成响应头的拼接</span><span lang=EN-US><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=GramE>if(</span>!<span
class=SpellE>file.exists</span>()){<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>file=</span>new File(<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
5'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>ServerContext.webRoot</span>+&quot;/&quot;+<span class=SpellE>ServerContext.notFoundPage</span>);<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>response.setStatus</span></span><span
class=GramE>(</span>404);<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=GramE>}else</span>{<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>response.setStatus</span>(200);//</span><span style='font-family:
"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>状态码</span><span
lang=EN-US><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=SpellE>response.setProtocol</span>(<span
class=SpellE>ServerContext.protocol</span>);//</span><span style='font-family:
"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>协议</span><span
lang=EN-US><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=SpellE><span
class=GramE>response.setContentType</span></span><span class=GramE>(</span></span><span
class=SpellE><span class=a3><span lang=EN-US style='font-size:12.5pt;
mso-bidi-font-size:11.0pt'>getContentTypeByEXT</span></span></span><span
class=a3><span lang=EN-US style='font-size:12.5pt;mso-bidi-font-size:11.0pt'>(file)</span></span><span
lang=EN-US>);<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US>//<span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=SpellE><span
class=GramE>response.setContentType</span></span><span class=GramE>(</span>&quot;text/html&quot;);<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=SpellE><span
class=GramE>response.setContentLength</span></span><span class=GramE>(</span>(<span
class=SpellE>int</span>) <span class=SpellE>file.length</span>());<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=SpellE><span
class=GramE>responseFile</span></span><span class=GramE>(</span>response,
file);<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>} catch (<span class=SpellE>IOException</span>
e) {<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=SpellE><span
class=GramE>e.printStackTrace</span></span><span class=GramE>(</span>);<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span>}<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>//</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>根据访问资源的后缀名，</span><span lang=EN-US><o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>//</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>去</span><span lang=EN-US>map</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>中查找对应</span><span lang=EN-US>value<o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE>private</span> String <span class=SpellE>getContentTypeByEXT</span>(<o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>File
file) {<o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//<span
class=SpellE>fileName</span> -<span class=GramE>&gt;<span
style='mso-spacerun:yes'>&nbsp; </span><span class=SpellE>ind</span></span><span
class=SpellE>.</span>..ex.html<o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>String
<span class=SpellE>fileName</span> = <span class=SpellE><span class=GramE>file.getName</span></span><span
class=GramE>(</span>);<o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//<span
class=SpellE>ext</span> -&gt;html<o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>String
<span class=SpellE>ext</span> =<span class=SpellE><span class=GramE>fileName.substring</span></span><span
class=GramE>(</span><o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>fileName.lastIndexOf</span></span><span
class=GramE>(</span>&quot;.&quot;)+1);<o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>根据后缀名，作为</span><span lang=EN-US>key,</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>去</span><span lang=EN-US>map</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>中查</span><span lang=EN-US>value<o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//value
-&gt; text/html<o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>String
value=<span class=SpellE><span class=GramE>ServerContext.map.get</span></span><span
class=GramE>(</span><span class=SpellE>ext</span>);<o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>return</span> value;<o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>}<o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>//</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>封装网页响应的方法</span><span lang=EN-US><o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span><span
class=GramE>public</span> void <span class=SpellE>responseFile</span>(<o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>HttpResponse</span> response,<o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>File
file<span class=GramE>){</span><o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>try</span> {<o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//
</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>响应实体</span><span lang=EN-US><o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//
B,,,,,</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>响应网页文件</span><span lang=EN-US><o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>BufferedInputStream</span> <span class=SpellE>bis</span> = new <span
class=SpellE><span class=GramE>BufferedInputStream</span></span><span
class=GramE>(</span>new <span class=SpellE>FileInputStream</span>(file));<o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=GramE>byte[</span>] b = new byte[(<span class=SpellE>int</span>) <span
class=SpellE>file.length</span>()];<o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>bis.read</span></span><span class=GramE>(</span>b);<o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//
</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>把文件读到数组里</span><span lang=EN-US><o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>response.getOutputStream</span>().write(b);// </span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;
mso-hansi-font-family:Consolas'>把文件写出去</span><span lang=EN-US><o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>socket.close</span></span><span class=GramE>(</span>);<o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}
catch (Exception e) {<o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:4'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE><span class=GramE>e.printStackTrace</span></span><span
class=GramE>(</span>);<o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:3'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>}
<o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=a0 style='background:#ACB9CA;mso-background-themecolor:text2;
mso-background-themetint:102'><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp; </span>}<o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US><span style='mso-tab-count:
1'>&nbsp;&nbsp; </span><o:p></o:p></span></p>

<p class=a style='background:#D9D9D9;mso-background-themecolor:background1;
mso-background-themeshade:217'><span lang=EN-US>}</span></p>

</div>

<p class=MsoNormal style='text-indent:24.0pt'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<h2 style='margin-left:0cm;text-indent:0cm;mso-list:l0 level2 lfo1'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Consolas;mso-bidi-font-family:Consolas'><span
style='mso-list:Ignore'>3.4<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>动态获取响应描述</span></h2>

<p class=MsoNormal style='text-indent:24.0pt'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<h1 style='margin-left:0cm;text-indent:0cm;mso-list:l0 level1 lfo1'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Consolas;mso-bidi-font-family:Consolas'><span
style='mso-list:Ignore'>4<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>代码实现</span><span
lang=EN-US>V4.0―</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>实现用户注册和登录</span></h1>

<h2 style='margin-left:0cm;text-indent:0cm;mso-list:l0 level2 lfo1'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Consolas;mso-bidi-font-family:Consolas'><span
style='mso-list:Ignore'>4.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>准备页面</span></h2>

<h2 style='margin-left:0cm;text-indent:0cm;mso-list:l0 level2 lfo1'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Consolas;mso-bidi-font-family:Consolas'><span
style='mso-list:Ignore'>4.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>改造</span><span
lang=EN-US>run</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Consolas;mso-hansi-font-family:Consolas'>方法</span></h2>

<h2 style='margin-left:0cm;text-indent:0cm;mso-list:l0 level2 lfo1'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Consolas;mso-bidi-font-family:Consolas'><span
style='mso-list:Ignore'>4.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>改造</span><span
class=SpellE><span lang=EN-US>HttpRequest</span></span><span style='font-family:
"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>对象，提供</span><span
class=SpellE><span lang=EN-US>getParam</span></span><span style='font-family:
"微软雅黑","sans-serif";mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas'>方法</span></h2>

<p class=MsoNormal style='text-indent:24.0pt'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:24.0pt'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:24.0pt'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:24.0pt'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:24.0pt'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:24.0pt'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:24.0pt'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:24.0pt'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:24.0pt'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:24.0pt'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

</div>

</body>

</html>
